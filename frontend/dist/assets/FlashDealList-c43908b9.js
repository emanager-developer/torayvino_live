import{p,j as t,L as b,bc as S,R as y,Q as h,S as F}from"./index-f981d823.js";import{u as N,a as v,b as k}from"./flashDeal-4c52b3c5.js";import{S as g}from"./sweetalert2.esm.all-3fe0d2e9.js";function C({flashDeal:e,i:d}){var s;const[c,o]=p.useState(null);p.useEffect(()=>{o(e==null?void 0:e.status)},[e]);const[n]=N(),[x]=v(),l=async a=>{var u,i,m;if(window.confirm("Are you sure update status?")){const r=await x(a);(u=r==null?void 0:r.data)!=null&&u.success?h.success((i=r==null?void 0:r.data)==null?void 0:i.message):(h.error((m=r==null?void 0:r.data)==null?void 0:m.error),console.log(r))}},j=async a=>{var u;if(window.confirm("Are you sure delete this FlasgDeal")){const i=await n(a);(u=i==null?void 0:i.data)!=null&&u.success?g.fire("","FlasgDeal Delete Success","success"):g.fire("","Somethin went worng","error")}};return t.jsxs("tr",{children:[t.jsx("td",{children:d+1}),t.jsx("td",{children:e==null?void 0:e.title}),t.jsx("td",{children:(s=e==null?void 0:e.flashProducts)==null?void 0:s.length}),t.jsx("td",{children:e==null?void 0:e.startDate}),t.jsx("td",{children:e==null?void 0:e.endDate}),t.jsx("td",{children:t.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[t.jsx("input",{defaultChecked:c,type:"checkbox",value:c,className:"peer sr-only",onClick:()=>l(e==null?void 0:e._id)}),t.jsx("div",{className:"peer h-[23px] w-11 rounded-full bg-gray-200 after:absolute after:start-[1px] after:top-[1.5px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full"})]})}),t.jsx("td",{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(b,{to:`/admin/flash-deal/edit/${e==null?void 0:e._id}`,className:"duration-200 hover:text-green-700",children:t.jsx(S,{})}),t.jsx("button",{onClick:()=>j(e==null?void 0:e._id),className:"text-lg duration-200 hover:text-red-600",children:t.jsx(y,{})})]})})]})}function L(){var x,l,j;const{data:e,isLoading:d,isError:c,error:o}=k();let n=null;return d?n=t.jsx(F,{}):(!d&&c&&(n=t.jsx("p",{children:(x=o==null?void 0:o.data)==null?void 0:x.error})),!d&&!c&&((l=e==null?void 0:e.data)==null?void 0:l.length)>0&&(n=(j=e==null?void 0:e.data)==null?void 0:j.map((s,a)=>t.jsx(C,{flashDeal:s,i:a},s==null?void 0:s._id))),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-3 flex items-end justify-between",children:[t.jsx("h1",{className:"text-neutral-content text-lg",children:"Flash Deal"}),t.jsx(b,{to:"/admin/flash-deal/add",className:"primary_btn text-sm",children:"Add New Flash Deal"})]}),t.jsx("div",{className:"relative overflow-x-auto shadow-lg",children:t.jsxs("table",{className:"dashboard_table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"SL"}),t.jsx("th",{children:"Title"}),t.jsx("th",{children:"Total Products"}),t.jsx("th",{children:"Start Date"}),t.jsx("th",{children:"End Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Action"})]})}),t.jsx("tbody",{children:n})]})})]}))}export{L as default};
