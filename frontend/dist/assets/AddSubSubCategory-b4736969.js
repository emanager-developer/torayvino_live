import{v as E,m as G,b0 as J,j as s,Q as f}from"./index-3d958e2c.js";import{a as L}from"./subSubCategoryApi-48398f56.js";import{u as O}from"./subCategoryApi-b4ea3950.js";function $(){var o;const b=E(),[i,g]=G.useState(null),{data:r,isSuccess:_}=J(),t=i&&JSON.parse(i),{data:d}=O({category:t==null?void 0:t._id}),n=t!=null&&t._id?(d==null?void 0:d.data)||[]:[],[A,{isLoading:c}]=L(),w=async e=>{var m,l,u,x,p,S,h,j,v,N;e.preventDefault();const q=e.target.name.value,Q=e.target.subCategory.value,C={name:q,category:t==null?void 0:t._id,subCategory:Q},a=await A(C);(m=a==null?void 0:a.data)!=null&&m.success?(f.success("Add success"),b("/admin/category/sub-sub-categories")):f.error(`${((p=(x=(u=(l=a==null?void 0:a.error)==null?void 0:l.data)==null?void 0:u.error)==null?void 0:x[0])==null?void 0:p.message)||((j=(h=(S=a==null?void 0:a.error)==null?void 0:S.data)==null?void 0:h.error)==null?void 0:j.message)||((N=(v=a==null?void 0:a.error)==null?void 0:v.data)==null?void 0:N.message)||"Something went wrong!"}`)};return s.jsxs("form",{onSubmit:w,className:"rounded bg-base-100 p-4 xl:w-1/2",children:[s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Sub SubCategory Name"}),s.jsx("input",{type:"text",name:"name",required:!0})]}),s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Category *"}),s.jsxs("select",{name:"category",required:!0,onChange:e=>g(e.target.value),children:[s.jsx("option",{value:"",children:"Select Category"}),_&&((o=r==null?void 0:r.data)==null?void 0:o.map(e=>s.jsx("option",{value:JSON.stringify(e),children:e==null?void 0:e.name},e==null?void 0:e._id)))]})]}),s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Sub Category *"}),s.jsxs("select",{name:"subCategory",required:!0,children:[s.jsx("option",{value:"",children:"Select Sub Category"}),(n==null?void 0:n.length)>0&&(n==null?void 0:n.map(e=>s.jsx("option",{value:e==null?void 0:e._id,children:e==null?void 0:e.name},e==null?void 0:e._id)))]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"primary_btn text-sm",disabled:c&&"disabled",children:c?"Loading..":"Add Sub SubCategory"})})]})}export{$ as default};
