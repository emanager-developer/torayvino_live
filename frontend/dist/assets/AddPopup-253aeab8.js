import{p as i,d9 as v,y,j as e,ap as w,aq as C,Q as d}from"./index-f981d823.js";function A(){const[t,b]=i.useState([]),[o,j]=i.useState(""),[p,g]=i.useState(""),[c,m]=i.useState(!0),[f,{isLoading:u}]=v(),x=y(),N=async()=>{var l,n,h;const s=(l=t[0])==null?void 0:l.file;if(!s)return d.error("Image is required");let a=new FormData;a.append("image",s),a.append("title",o),a.append("description",p),a.append("isActive",c);const r=await f(a);r.error?d.error(((h=(n=r==null?void 0:r.error)==null?void 0:n.data)==null?void 0:h.message)||"Something went wrong when creating popup"):(d.success("Popup created successfully"),x("/admin/front-end/popup/all"))};return e.jsxs("section",{children:[e.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:e.jsx("h1",{className:"font-medium text-neutral",children:"Add New Popup"})}),e.jsxs("div",{className:"rounded bg-base-100 shadow",children:[e.jsxs("div",{className:"space-y-6 p-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-neutral mb-2",children:["Popup Image ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(w,{value:t,onChange:s=>b(s),dataURLKey:"data_url",children:({onImageUpload:s,onImageRemove:a,dragProps:r})=>e.jsxs("div",{className:"w-full rounded border border-dashed p-4",...r,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{onClick:s,className:"cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("p",{className:"text-xs text-neutral-content",children:"Recommended size: 600x500px"}),e.jsx("div",{className:`${(t==null?void 0:t.length)>0&&"mt-4"}`,children:t==null?void 0:t.map((l,n)=>e.jsxs("div",{className:"image-item relative inline-block",children:[e.jsx("img",{src:l.data_url,alt:"",className:"h-40 w-60 object-cover rounded"}),e.jsx("div",{onClick:()=>a(n),className:"absolute right-2 top-2 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-red-500 text-white hover:bg-red-600",children:e.jsx(C,{})})]},n))})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral mb-2",children:"Title (Optional)"}),e.jsx("input",{type:"text",value:o,onChange:s=>j(s.target.value),placeholder:"Enter popup title...",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral mb-2",children:"Description (Optional)"}),e.jsx("textarea",{value:p,onChange:s=>g(s.target.value),placeholder:"Enter popup description...",rows:"3",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-primary focus:outline-none resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"status",checked:c,onChange:()=>m(!0),className:"text-primary focus:ring-primary"}),e.jsx("span",{className:"text-sm",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"status",checked:!c,onChange:()=>m(!1),className:"text-primary focus:ring-primary"}),e.jsx("span",{className:"text-sm",children:"Inactive"})]})]}),e.jsx("p",{className:"mt-1 text-xs text-neutral-content",children:"Note: Only one popup can be active at a time"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 border-t p-4",children:[e.jsx("button",{onClick:()=>x("/admin/front-end/popup/all"),className:"rounded bg-gray-200 px-6 py-2 text-gray-700 hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{disabled:u,onClick:N,className:"primary_btn",children:u?"Creating...":"Create Popup"})]})]})]})}export{A as default};
