import{o as p,J as x,k as g,p as a,aK as i,ag as m,j as r,S as c,ah as j}from"./index-f981d823.js";const L=({children:f})=>{const{token:e}=p(s=>s.user),l=x(),t=g(),[d,o]=a.useState(!0),[n,u]=a.useState(null);return a.useEffect(()=>{if(e){const s=m(e);if(!s){t(i());return}u(s)}else{t(i()),u(null),o(!1);return}o(!1)},[e,t]),d?r.jsx(c,{}):!n||!e?r.jsx(j,{to:"/admin/login",state:{from:l},replace:!0}):n&&e?f:r.jsx(c,{})};export{L as default};
