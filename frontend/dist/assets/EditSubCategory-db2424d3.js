import{u as _,v as Q,m as h,b0 as G,j as t,S as q,Q as v}from"./index-e0eec1b4.js";import{c as D,d as M}from"./subCategoryApi-bd4044ab.js";function $(){var c;const{id:n}=_(),S=Q(),[C,d]=h.useState(""),{data:s,isLoading:N}=D(n),{data:r}=G(),o=r==null?void 0:r.data;h.useEffect(()=>{var e;s&&d((e=s==null?void 0:s.data)==null?void 0:e.category)},[s]);const[w,{isLoading:i}]=M();if(N)return t.jsx(q,{});const E=async e=>{var u,m,g,p,l,x,y,b,f,j;e.preventDefault();const L=e.target.name.value,U=e.target.category.value,a=await w({id:n,data:{name:L,category:U}});(u=a==null?void 0:a.data)!=null&&u.success?(v.success("Update Success"),S("/admin/category/sub-categories")):v.error(`${((l=(p=(g=(m=a==null?void 0:a.error)==null?void 0:m.data)==null?void 0:g.error)==null?void 0:p[0])==null?void 0:l.message)||((b=(y=(x=a==null?void 0:a.error)==null?void 0:x.data)==null?void 0:y.error)==null?void 0:b.message)||((j=(f=a==null?void 0:a.error)==null?void 0:f.data)==null?void 0:j.message)||"Something went wrong!"}`)};return t.jsxs("form",{onSubmit:E,className:"rounded bg-base-100 p-4 sm:w-1/2",children:[t.jsxs("div",{className:"form_group mt-2",children:[t.jsx("p",{children:"Sub Category Name"}),t.jsx("input",{type:"text",name:"name",defaultValue:(c=s==null?void 0:s.data)==null?void 0:c.name,required:!0})]}),t.jsxs("div",{className:"form_group mt-4",children:[t.jsx("p",{children:"Category"}),t.jsx("select",{name:"category",value:C,onChange:e=>d(e.target.value),children:o==null?void 0:o.map(e=>t.jsx("option",{value:e._id,children:e.name},e._id))})]}),t.jsx("div",{className:"mt-4",children:t.jsx("button",{className:"rounded bg-primary px-6 py-1.5 text-base-100",disabled:i&&"disabled",children:i?"Loading..":"Update"})})]})}export{$ as default};
