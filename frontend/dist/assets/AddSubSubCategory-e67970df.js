import{y as _,p as g,b1 as A,j as s,Q as x}from"./index-f981d823.js";import{a as w}from"./subSubCategoryApi-83220bb9.js";import{u as q}from"./subCategoryApi-75905068.js";function G(){var c;const p=_(),[r,S]=g.useState(null),{data:d,isSuccess:h}=A(),t=r&&JSON.parse(r),{data:i}=q({category:t==null?void 0:t._id}),a=t!=null&&t._id?(i==null?void 0:i.data)||[]:[],[j,{isLoading:l}]=w(),v=async e=>{var o,u,m;e.preventDefault();const N=e.target.name.value,f=e.target.subCategory.value,b={name:N,category:t==null?void 0:t._id,subCategory:f},n=await j(b);(o=n==null?void 0:n.data)!=null&&o.success?(x.success("Add success"),p("/admin/category/sub-sub-categories")):x.error(((m=(u=n==null?void 0:n.error)==null?void 0:u.data)==null?void 0:m.message)||"Something went wrong")};return s.jsxs("form",{onSubmit:v,className:"rounded bg-base-100 p-4 xl:w-1/2",children:[s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Sub SubCategory Name"}),s.jsx("input",{type:"text",name:"name",required:!0})]}),s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Category *"}),s.jsxs("select",{name:"category",required:!0,onChange:e=>S(e.target.value),children:[s.jsx("option",{value:"",children:"Select Category"}),h&&((c=d==null?void 0:d.data)==null?void 0:c.map(e=>s.jsx("option",{value:JSON.stringify(e),children:e==null?void 0:e.name},e==null?void 0:e._id)))]})]}),s.jsxs("div",{className:"form_group mt-2",children:[s.jsx("p",{className:"text-neutral-content",children:"Sub Category *"}),s.jsxs("select",{name:"subCategory",required:!0,children:[s.jsx("option",{value:"",children:"Select Sub Category"}),(a==null?void 0:a.length)>0&&(a==null?void 0:a.map(e=>s.jsx("option",{value:e==null?void 0:e._id,children:e==null?void 0:e.name},e==null?void 0:e._id)))]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"primary_btn text-sm",disabled:l&&"disabled",children:l?"Loading..":"Add Sub SubCategory"})})]})}export{G as default};
