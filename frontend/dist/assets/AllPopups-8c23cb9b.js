import{d5 as P,d6 as A,d7 as S,j as e,S as k,L as j,d8 as L,bb as C,ce as D,Q as m}from"./index-e0eec1b4.js";function $(){const{data:u,isLoading:g}=P(),f=(u==null?void 0:u.data)||[],[p,{isLoading:b}]=A(),[N,{isLoading:w}]=S(),v=async t=>{var a,n,i,l,d,c,o,x,h,s;const r=await N(t);r.error?m.error(`${((l=(i=(n=(a=r==null?void 0:r.error)==null?void 0:a.data)==null?void 0:n.error)==null?void 0:i[0])==null?void 0:l.message)||((o=(c=(d=r==null?void 0:r.error)==null?void 0:d.data)==null?void 0:c.error)==null?void 0:o.message)||((h=(x=r==null?void 0:r.error)==null?void 0:x.data)==null?void 0:h.message)||"Something went wrong!"}`):m.success(((s=r.data)==null?void 0:s.message)||"Status updated successfully")},y=async t=>{var a,n,i,l,d,c,o,x,h;if(window.confirm("Are you sure you want to delete this popup?")){const s=await p(t);s.error?m.error(`${((l=(i=(n=(a=s==null?void 0:s.error)==null?void 0:a.data)==null?void 0:n.error)==null?void 0:i[0])==null?void 0:l.message)||((o=(c=(d=s==null?void 0:s.error)==null?void 0:d.data)==null?void 0:c.error)==null?void 0:o.message)||((h=(x=s==null?void 0:s.error)==null?void 0:x.data)==null?void 0:h.message)||"Something went wrong!"}`):m.success("Popup deleted successfully")}};return g?e.jsx(k,{}):e.jsxs("section",{children:[e.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"font-medium text-neutral",children:"All Popups"}),e.jsxs(j,{to:"/admin/front-end/popup/add",className:"primary_btn flex items-center gap-2",children:[e.jsx(L,{})," Add Popup"]})]})}),e.jsx("div",{className:"rounded bg-base-100 shadow",children:f.length===0?e.jsxs("div",{className:"p-8 text-center text-neutral-content",children:[e.jsx("p",{children:"No popups found"}),e.jsx(j,{to:"/admin/front-end/popup/add",className:"primary_btn mt-4 inline-block",children:"Create First Popup"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:f.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{src:`https://api.torayvinobd.store${t.image}`,alt:t.title||"Popup",className:"h-16 w-20 rounded object-cover"})}),e.jsx("td",{children:e.jsx("p",{className:"font-medium",children:t.title||"No title"})}),e.jsx("td",{children:e.jsx("p",{className:"max-w-xs truncate text-sm text-neutral-content",children:t.description||"No description"})}),e.jsx("td",{children:e.jsxs("label",{className:"flex cursor-pointer items-center",children:[e.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:t.isActive,value:t.isActive,onChange:()=>v(t._id),disabled:w,className:"sr-only peer"}),e.jsx("div",{className:"peer h-[23px] w-11 rounded-full bg-gray-200 after:absolute after:start-[1px] after:top-[1.5px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full"})]}),e.jsx("span",{className:`ml-2 text-xs font-medium ${t.isActive?"text-green-600":"text-gray-500"}`,children:t.isActive?"Active":"Inactive"})]})}),e.jsx("td",{children:e.jsx("p",{className:"text-sm text-neutral-content",children:new Date(t.createdAt).toLocaleDateString()})}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{to:`/admin/front-end/popup/edit/${t._id}`,className:"duration-300 hover:text-green-700",children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y(t._id),disabled:b,className:"text-red-500",children:e.jsx(D,{className:"h-4 w-4"})})]})})]},t._id))})]})})})]})}export{$ as default};
