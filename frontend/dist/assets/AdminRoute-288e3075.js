import{l as p,E as m,g as x,m as a,aJ as i,ad as g,j as r,S as c,ae as j}from"./index-e0eec1b4.js";const E=({children:f})=>{const{token:e}=p(s=>s.user),l=m(),t=x(),[d,o]=a.useState(!0),[n,u]=a.useState(null);return a.useEffect(()=>{if(e){const s=g(e);if(!s){t(i());return}u(s)}else{t(i()),u(null),o(!1);return}o(!1)},[e,t]),d?r.jsx(c,{}):!n||!e?r.jsx(j,{to:"/admin/login",state:{from:l},replace:!0}):n&&e?f:r.jsx(c,{})};export{E as default};
