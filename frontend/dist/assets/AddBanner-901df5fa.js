import{p as N,y as I,cQ as S,cS as _,j as e,ap as b,aq as v,Q as x}from"./index-f981d823.js";function B(){const[t,y]=N.useState([]),[n,w]=N.useState([]),k=I(),{data:m}=S(),r=m==null?void 0:m.data,[C,{isLoading:p}]=_(),D=async s=>{var u,h,g,j,f;s.preventDefault();const d=(u=t[0])==null?void 0:u.file,i=(h=n[0])==null?void 0:h.file;if(!d)return x.error("Please select a desktop image");const c=s.target,l=c.link.value,L=c.order.value,A={link:l,order:L},o=new FormData;o.append("image",d),i&&o.append("mobileImage",i),o.append("data",JSON.stringify(A));const a=await C(o);(g=a==null?void 0:a.data)!=null&&g.success?(x.success(((j=a==null?void 0:a.data)==null?void 0:j.message)||"Banner added successfully"),k("/admin/banner/main/all")):(x.error(((f=a==null?void 0:a.data)==null?void 0:f.message)||"Something went wrong, please try again"),console.log(a))};return e.jsxs("section",{className:"rounded bg-base-100 shadow xl:w-[600px]",children:[e.jsx("div",{className:"border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:"Add Banner"})}),e.jsxs("form",{onSubmit:D,className:"p-4",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"pb-2 text-sm font-medium text-neutral",children:"Desktop Image (Required)"}),e.jsx("p",{className:"pb-1 text-xs text-neutral-content",children:"Max height (350px)"}),e.jsx(b,{value:t,onChange:s=>y(s),dataURLKey:"data_url",children:({onImageUpload:s,onImageRemove:d,dragProps:i})=>e.jsxs("div",{className:"w-max rounded border border-dashed p-4",...i,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[e.jsx("span",{onClick:s,className:"cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Desktop Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(t==null?void 0:t.length)>0&&"mt-4"} `,children:t==null?void 0:t.map((c,l)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:c.data_url,alt:"",className:"w-40"}),e.jsx("div",{onClick:()=>d(l),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(v,{})})]},l))})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"pb-2 text-sm font-medium text-neutral",children:"Mobile Image (Optional)"}),e.jsx("p",{className:"pb-1 text-xs text-neutral-content",children:"Optimized for mobile screens"}),e.jsx(b,{value:n,onChange:s=>w(s),dataURLKey:"data_url",children:({onImageUpload:s,onImageRemove:d,dragProps:i})=>e.jsxs("div",{className:"w-max rounded border border-dashed p-4",...i,children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[e.jsx("span",{onClick:s,className:"cursor-pointer rounded-2xl bg-secondary px-4 py-1.5 text-sm text-base-100",children:"Choose Mobile Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(n==null?void 0:n.length)>0&&"mt-4"} `,children:n==null?void 0:n.map((c,l)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:c.data_url,alt:"",className:"w-40"}),e.jsx("div",{onClick:()=>d(l),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-secondary text-base-100",children:e.jsx(v,{})})]},l))})]})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-neutral-content",children:"Link"}),e.jsx("input",{type:"text",name:"link",placeholder:"Enter Link",className:"w-full rounded border px-3 py-2 text-sm outline-none"})]}),e.jsxs("div",{className:"mt-4 flex flex-col gap-1",children:[e.jsx("p",{className:"text-neutral-content",children:"Order"}),e.jsx("input",{type:"number",name:"order",placeholder:"Enter Link",className:"w-full rounded border px-3 py-2 text-sm outline-none",required:!0,defaultValue:(r==null?void 0:r.length)>0?(r==null?void 0:r.length)+1:1})]}),e.jsx("div",{className:"mt-6 flex justify-end border-t p-4",children:e.jsx("button",{disabled:p&&"disabled",className:"primary_btn",children:p?"Loading...":"Add Banner"})})]})]})}export{B as default};
