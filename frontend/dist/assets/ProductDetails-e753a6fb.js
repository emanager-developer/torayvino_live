import{w as G,p,j as e,h as he,N as ue,i as ge,x as fe,I as ee,y as pe,k as se,o as H,z as je,F as ye,l as be,B as X,C as Z,Q as C,D as O,E as Ne,G as ve,g as we,P as te,H as _e,J as Se,K as ke,L as ae,O as Ce,R as Pe,T as Ie,n as Me,u as Re,U as Le,V as Ee,W as $e,S as Be,X as ze}from"./index-f981d823.js";import{S as T}from"./sweetalert2.esm.all-3fe0d2e9.js";import{R as Q,u as Ae,a as Te,b as qe}from"./reviewApi-790f00d5.js";import{R as De}from"./ReviewEditForm-c586adc6.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],We=G("shield-check",Fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],He=G("triangle-alert",Ve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Qe=G("wrench",Oe),Ge="_wrapper_15aoq_1",Ke="_thumbsColumn_15aoq_13",Ye="_thumbsSwiper_15aoq_25",Ue="_thumbSlide_15aoq_33",Je="_thumb_15aoq_13",Xe="_activeThumb_15aoq_59",Ze="_mainImageBox_15aoq_69",es="_mainImage_15aoq_69",ss="_mainImageWrapper_15aoq_151",ts="_navButton_15aoq_183",as="_prev_15aoq_205",is="_next_15aoq_213",B={wrapper:Ge,thumbsColumn:Ke,thumbsSwiper:Ye,thumbSlide:Ue,thumb:Je,activeThumb:Xe,mainImageBox:Ze,mainImage:es,mainImageWrapper:ss,navButton:ts,prev:as,next:is};function ls({thumbnail:a,galleries:x,variantImage:m,selectedVariant:r}){const[d,s]=p.useState(a),[c,y]=p.useState(typeof window<"u"?window.innerWidth<=768:!1);return p.useEffect(()=>{s(m||a)},[a,m]),p.useEffect(()=>{function i(){y(window.innerWidth<=768)}return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),e.jsxs("div",{className:B.wrapper,children:[e.jsx("div",{className:B.thumbsColumn,children:e.jsx(he,{direction:c?"horizontal":"vertical",spaceBetween:10,slidesPerView:c?5:4,modules:[ue],className:B.thumbsSwiper,children:[...m?[m]:[],a,...x||[]].filter((i,b,j)=>j.indexOf(i)===b).map((i,b)=>e.jsx(ge,{className:B.thumbSlide,children:e.jsx("img",{src:`https://api.torayvinobd.store/${i}`,alt:`thumb-${b}`,className:`${B.thumb} ${d===i?B.activeThumb:""}`,onClick:()=>s(i),loading:"lazy"})},`${i}-${b}`))})}),e.jsx("div",{className:B.mainImageBox,children:e.jsxs("div",{className:B.mainImage,children:[e.jsx("img",{src:`https://api.torayvinobd.store/${d}`,alt:"product",loading:"lazy"}),m&&d===m&&e.jsx("div",{className:"absolute top-2 right-2 bg-primary text-white text-xs px-2 py-1 rounded-full shadow-lg",children:r!=null&&r.sku?`Variant: ${r.sku.toUpperCase()}`:"Variant"})]})})]})}function ns({productPrice:a=0}){var o;const[x,m]=p.useState(!1),[r,d]=p.useState(null),{data:s,isLoading:c}=fe(),y=(s==null?void 0:s.data)||[],i=()=>{if(!y||y.length===0)return 0;let n=1/0;return y.forEach(u=>{var h;(h=u.emiOptions)==null||h.forEach(g=>{const v=a*g.chargePercentage/100,P=(a+v)/g.months;P<n&&(n=P)})}),n===1/0?0:n},b=(n,u)=>{const h=a*u/100,g=a+h,v=g/n;return{originalPrice:a,chargeAmount:h,totalAmount:g,monthlyPayment:v,months:n,chargePercentage:u}},j=i();return c||!y||y.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-4",children:e.jsxs("button",{onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800 underline font-medium",children:["EMIs from ৳",Math.round(j).toLocaleString(),"/month"]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["EMI Options for ৳",a.toLocaleString()]}),e.jsx("button",{onClick:()=>{m(!1),d(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:e.jsx(ee,{})})]}),e.jsxs("div",{className:"flex h-96",children:[e.jsx("div",{className:"w-[25%] border-r overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Select Bank"}),e.jsx("div",{className:"space-y-2",children:y.map(n=>e.jsx("button",{onClick:()=>d(n),className:`w-full p-3 mb-1 text-left rounded-lg border transition-colors ${(r==null?void 0:r._id)===n._id?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://api.torayvinobd.store${n.logo}`,alt:n.bankName,className:"w-8 h-8 object-contain rounded"}),e.jsx("span",{className:"font-medium",children:n.bankName})]})},n._id))})]})}),e.jsx("div",{className:"w-[75%] overflow-y-auto",children:r?e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:`https://api.torayvinobd.store${r.logo}`,alt:r.bankName,className:"w-10 h-10 object-contain rounded"}),e.jsxs("h3",{className:"text-lg font-semibold",children:[r.bankName," EMI Plans"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"EMI Months"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"EMI Charge (%)"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Product Price"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Total Amount"}),e.jsx("th",{className:"text-left p-3 font-medium text-gray-700",children:"Monthly Payment"})]})}),e.jsx("tbody",{children:(o=r.emiOptions)==null?void 0:o.map((n,u)=>{const h=b(n.months,n.chargePercentage);return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-3 font-medium text-blue-600",children:[n.months," months"]}),e.jsxs("td",{className:"p-3",children:[n.chargePercentage,"%"]}),e.jsxs("td",{className:"p-3",children:["৳",h.originalPrice.toLocaleString()]}),e.jsxs("td",{className:"p-3",children:["৳",Math.round(h.totalAmount).toLocaleString(),e.jsxs("span",{className:"text-xs text-gray-500 block",children:["(+৳",Math.round(h.chargeAmount).toLocaleString()," charge)"]})]}),e.jsx("td",{className:"p-3",children:e.jsxs("span",{className:"font-semibold text-green-600",children:["৳",Math.round(h.monthlyPayment).toLocaleString(),"/month"]})})]},u)})})]})}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-700",children:"* EMI charges are calculated on the product price and added to the total amount."})})]}):e.jsx("div",{className:"p-8 text-center text-gray-500",children:e.jsx("p",{children:"Select a bank to view EMI options"})})})]})]})})]})}function rs({product:a}){const x=a==null?void 0:a.shortFeature,m=pe(),r=se(),d=H(t=>t.cart.carts),s=H(t=>t.wishlist.wishlists),c=sessionStorage.getItem("discount"),{title:y,thumbnail:i,brand:b,category:j,rating:o,reviewer:n,price:u,stock:h,galleries:g,isVariant:v,variants:f,isBundle:P,bundlePurchaseQuantity:q,bundleQuantity:D}=a,[I,F]=p.useState(null),[l,A]=p.useState(null),[M,w]=p.useState(h),[N,R]=p.useState(u),[L,ie]=p.useState(),[E,K]=p.useState(1),[le,W]=p.useState(null),[ne,V]=p.useState(null),z=[...new Map(f.filter(t=>t.color).map(t=>[t.color,{color:t.color,colorCode:t.colorCode}])).values()],$=[...new Set(f.filter(t=>t.size).map(t=>t.size))],re=()=>{E>1?K(E-1):C.error("Minimum quantity is 1")},de=()=>{M>E?K(E+1):C.error("Maximum quantity reached")},ce=t=>{I===t?(F(""),w(h),R(u),W(null),V(null)):F(t)};p.useEffect(()=>{let t="",k="",_="";l&&(k=l==null?void 0:l.color),I&&(_=I),k&&_?t=`${k.toLowerCase()}-${_.toLowerCase()}`:k?t=`${k.toLowerCase()}`:_&&(t=`${_.toLowerCase()}`);const S=f==null?void 0:f.find(J=>J.sku===t);S?(ie(S.sku),w(S.stock),R(S==null?void 0:S.price),W((S==null?void 0:S.image)||null),V(S)):(W(null),V(null))},[I,l,f]);const Y=()=>{if(v&&(f==null?void 0:f.length)>0&&!I)return T.fire("","Please Select Size","warning");if(v&&(f==null?void 0:f.length)>0&&!l)return T.fire("","Please Select Color","warning");const t={_id:a._id,discount:parseInt(c),price:N,thumbnail:i,title:y,quantity:E,sku:L,stock:M,isBundle:P,bundlePurchaseQuantity:q,bundleQuantity:D};r(O([t])),m("/checkout")},U=()=>{if((f==null?void 0:f.length)>0&&$[0]&&!I)return T.fire("","Please Select Size","warning");if((f==null?void 0:f.length)>0&&z[0]&&!l)return T.fire("","Please Select Color","warning");const t={_id:a._id,discount:parseInt(c),price:N,thumbnail:i,title:y,quantity:E,sku:L,stock:M,isBundle:P,bundlePurchaseQuantity:q,bundleQuantity:D};if((d==null?void 0:d.length)>0){if(d==null?void 0:d.find(_=>_._id===t._id&&L==_.sku))return C.error("Product already added to cart");r(O([...d,t])),C.success("Item added to cart successfully")}else r(O([t])),C.success("Item added to cart successfully");window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"add_to_cart",ecommerce:{currencyCode:"BDT",add:{products:[{item_id:a._id,item_name:a.title,price:N,discount:parseInt(c),brand:b,category:j==null?void 0:j.name,variant:L,quantity:E||0}]}}})},oe=t=>{if(s==null?void 0:s.find(_=>_._id===t._id))return r(Ne(t)),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"remove_to_wishlist",ecommerce:{currencyCode:"BDT",add:{products:[{item_id:t._id,item_name:t.title,price:N,discount:parseInt(c),brand:b,category:j==null?void 0:j.name,variant:L}]}}}),T.fire("","Product removed from wishlist","warning");r(ve([...s,t])),T.fire("","Product added to wishlist successfully","success"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"add_to_wishlist",ecommerce:{currencyCode:"BDT",add:{products:[{item_id:t._id,item_name:t.title,price:N,discount:parseInt(c),brand:b,category:j==null?void 0:j.name,variant:L}]}}})},me=s==null?void 0:s.find(t=>t._id===a._id),xe=(t,k=200)=>{if(!t||typeof document>"u")return"";const _=document.createElement("div");_.innerHTML=t;const S=_.textContent||_.innerText||"";return S.length<=k?t:(S.slice(0,k).trim()+"...").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:gap-6",children:[e.jsx("div",{className:"lg:w-[55%]",children:e.jsx(ls,{discount:parseInt(c),galleries:g,thumbnail:i,variantImage:le,selectedVariant:ne})}),e.jsxs("div",{className:"lg:w-[45%]",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary md:mt-10",children:y}),M>0?e.jsx("p",{className:"mb-4 hidden border-l pl-4 text-xs text-[#006A4E] md:block",children:"In Stock"}):e.jsx("p",{className:"mb-4 hidden border-l pl-4 text-xs text-red-500 md:block",children:"Out of Stock"}),e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[13px]",children:[e.jsx(Q,{rating:o||0}),e.jsxs("p",{className:"text-xs text-neutral-content",children:["(",n||0,")"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between py-3 pr-2",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("p",{className:"text-neutral-content",children:"Price: "}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["৳ ",parseInt(N-N*parseInt(c)/100)]}),c>0&&e.jsxs("del",{className:"font-medium text-red-400",children:["৳",N]})]})]}),e.jsx("div",{className:"flex items-center justify-end gap-4",children:e.jsx("button",{onClick:()=>oe(a),className:`rounded-full p-3 shadow-lg ${me&&"bg-primary text-base-100"}`,children:e.jsx(je,{})})})]}),e.jsxs("div",{className:"flex items-center gap-4 border-y py-3",children:[e.jsx("h3",{className:"text-neutral-content",children:"Quantity: "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:re,className:"text-2xl duration-200 hover:text-neutral",children:e.jsx(ye,{})}),e.jsx("div",{children:e.jsx("p",{className:"w-10 text-center font-semibold",children:E})}),e.jsx("button",{onClick:de,className:"text-2xl duration-200 hover:text-neutral",children:e.jsx(be,{})})]})]}),(z==null?void 0:z.length)>0&&e.jsxs("div",{className:"my-4 flex items-center gap-4",children:[e.jsx("p",{children:"Color :"}),e.jsx("div",{className:"flex items-center gap-2",children:z==null?void 0:z.map(t=>e.jsx("button",{onClick:()=>{(l==null?void 0:l.colorCode)===(t==null?void 0:t.colorCode)?(A(null),w(h),R(u),W(null),V(null)):A(t)},className:`relative flex h-8 w-8 items-center justify-center rounded-full border-2 ${(l==null?void 0:l.colorCode)===(t==null?void 0:t.colorCode)?"border-primary":"border-gray-300"} `,style:{backgroundColor:t==null?void 0:t.colorCode},children:(l==null?void 0:l.colorCode)===(t==null?void 0:t.colorCode)&&e.jsx("span",{className:"absolute text-xs text-primary",children:"✔"})},t==null?void 0:t.color))})]}),($==null?void 0:$.length)>0&&$[0]&&e.jsxs("div",{className:"my-4 flex items-center gap-4",children:[e.jsx("p",{children:"Size :"}),e.jsx("div",{className:"flex items-center gap-2",children:$==null?void 0:$.map(t=>e.jsx("button",{onClick:()=>ce(t),className:`${t===I&&"bg-primary text-base-100"} scale-[.96] rounded border px-2.5 py-1.5 text-[15px] duration-300 hover:scale-[1] hover:border-primary`,children:t},t))})]}),e.jsx(ns,{productPrice:N}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs",children:"*MRP (inclusive of all taxes) for 1 unit."}),e.jsx("p",{className:"mb-1 text-xs",children:"*Free home delivery and installation."}),e.jsx("div",{className:"mt-4 hidden border-b pb-4 text-sm leading-[21px] text-black md:mt-6 md:block md:pb-2 lg:mt-6",dangerouslySetInnerHTML:{__html:xe(a==null?void 0:a.description,150)}}),e.jsx("div",{className:"flex flex-row justify-start gap-3 px-2 py-2",children:x.map((t,k)=>e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col justify-center gap-1 px-2 py-1",children:[e.jsx("img",{src:`https://api.torayvinobd.store/${t==null?void 0:t.image}`,alt:t.name,className:"h-10 w-auto object-contain"}),e.jsx("p",{className:"whitespace-normal break-words text-center text-xs",children:t.name})]})},k))})]}),e.jsxs("div",{className:"my-6 hidden sm:grid sm:grid-cols-2 sm:items-center sm:gap-2",children:[e.jsxs("button",{onClick:Y,className:"btn-rounded-primary-bg btn-rounded-primary-bg-hover !mx-auto flex !w-full items-center justify-center gap-2",children:[e.jsx(X,{}),"Buy Now"]}),e.jsxs("button",{onClick:U,className:"btn-rounded-primary-bg !mx-auto flex !w-full items-center justify-center gap-2 !bg-sky-600",children:[e.jsx(Z,{}),"Add To Cart"]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 px-4 py-3 sm:hidden shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto justify-items-center",children:[e.jsxs("button",{onClick:Y,className:"btn-rounded-primary-bg btn-rounded-primary-bg-hover flex items-center justify-center gap-2 py-3 px-4 text-sm font-medium w-full",children:[e.jsx(X,{className:"text-lg"}),"Buy Now"]}),e.jsxs("button",{onClick:U,className:"btn-rounded-primary-bg flex items-center justify-center gap-2 !bg-sky-600 hover:!bg-sky-700 py-3 px-4 text-sm font-medium w-full",children:[e.jsx(Z,{className:"text-lg"}),"Add To Cart"]})]})})]})]})}function ds({category:a,currentProduct:x}){var y;const m={};m.page=1,m.limit=5,m.category=a==null?void 0:a.slug;const{data:r,isLoading:d}=we(m),s=(y=r==null?void 0:r.data)==null?void 0:y.filter(i=>i._id!==x);let c=null;return d&&(c=e.jsx(_e,{})),!d&&(s==null?void 0:s.length)>0&&(c=s==null?void 0:s.map(i=>e.jsx(te,{product:i},i==null?void 0:i._id))),e.jsx("section",{className:"mt-6",children:e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between border-b border-primary pb-2 sm:items-center",children:e.jsx("h1",{className:"font-medium text-neutral md:text-xl md:font-semibold",children:"Related Products"})}),e.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-3",children:c})]})})}const cs=({description:a,product:x})=>{console.log(a);const m=x==null?void 0:x.feature;console.log("features",m);const r=x==null?void 0:x.specifications;return console.log("specifications",r),e.jsxs("div",{className:"my-10",children:[e.jsxs("div",{id:"features",className:"py-10",children:[e.jsx("h2",{className:"mb-8 text-center text-[16.6px] font-bold text-primary md:text-2xl lg:mb-16 lg:text-[38px]",children:"Features"}),e.jsx("div",{children:m.map((d,s)=>{const c=d.name,y=`https://api.torayvinobd.store/${d==null?void 0:d.image}`,i=d.description;return e.jsxs("div",{className:`mb-20 flex flex-col gap-10 md:flex-row ${s%2===1?"md:flex-row-reverse":""}`,children:[e.jsx("div",{className:"w-full rounded-xl bg-neutral-content p-2 md:w-1/2",children:e.jsx("img",{src:y,alt:c,className:"h-auto w-full rounded-xl object-cover"})}),e.jsxs("div",{className:"w-full text-center md:w-1/2 md:text-left",children:[e.jsx("h3",{className:"text-left text-2xl font-semibold max-md:hidden lg:mb-4 xl:text-[28px]",children:c}),e.jsx("p",{className:"mt-2 text-sm md:text-base",children:i})]})]},d._id||s)})})]}),e.jsxs("div",{id:"specifications",className:"py-10",children:[e.jsx("h2",{className:"mb-8 text-center text-[16.6px] font-bold text-primary md:text-2xl lg:mb-16 lg:text-[38px]",children:"Specifications"}),e.jsx("div",{className:"overflow-x-auto rounded-lg bg-white shadow-sm",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-1/2 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Specification"}),e.jsx("th",{className:"w-1/2 px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Value"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((d,s)=>e.jsxs("tr",{className:s%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"w-1/2 px-4 py-3 align-top text-left text-sm text-gray-800",children:d.title}),e.jsx("td",{className:"w-1/2 px-4 py-3 align-top text-left text-sm text-gray-700",children:d.description})]},s))})]})})]})]})},os=cs,ms=()=>{const[a,x]=p.useState("overview"),[m,r]=p.useState(!1),s=Se().pathname.startsWith("/product/"),c=p.useMemo(()=>[{id:"overview",label:"Overview",offset:0},{id:"features",label:"Features",offset:100},{id:"specifications",label:"Specifications",offset:200},{id:"kits",label:"Kits",offset:300},{id:"faq",label:"FAQ",offset:400},{id:"warranty",label:"Warranty",offset:500},{id:"reviews",label:"Reviews",offset:600},{id:"related",label:"Related Products",offset:700},{id:"recently-viewed",label:"Recently Viewed",offset:800}],[]);p.useEffect(()=>{if(!s)return;const i=()=>{const b=window.scrollY;r(b>50);const j=c.find(o=>{const n=document.getElementById(o.id);if(!n)return!1;const u=n.getBoundingClientRect(),h=60;return u.top<=h+50&&u.bottom>h+50});j&&x(j.id)};return window.addEventListener("scroll",i),i(),()=>window.removeEventListener("scroll",i)},[s,c]);const y=i=>{const b=document.getElementById(i);if(b){const n=b.getBoundingClientRect().top+window.scrollY-60;window.scrollTo({top:n,behavior:"smooth"}),x(i)}};return s?e.jsx("div",{className:`fixed left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm transition-all duration-300 ${m?"top-0 opacity-100 translate-y-0":"top-0 opacity-0 -translate-y-full pointer-events-none"}`,children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"flex items-center justify-between overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("div",{className:"flex items-center space-x-1 py-3",children:c.map(i=>e.jsx("button",{onClick:()=>y(i.id),className:`whitespace-nowrap px-4 py-2 text-sm font-medium transition-all duration-200 rounded-full ${a===i.id?"bg-primary text-white shadow-sm":"text-gray-600 hover:text-primary hover:bg-gray-100"}`,children:i.label},i.id))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 h-1 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300 rounded-full",style:{width:`${(c.findIndex(i=>i.id===a)+1)/c.length*100}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[c.findIndex(i=>i.id===a)+1,"/",c.length]})]})]})})}):null},xs=ms;function hs({addModal:a,setAddModal:x,product:m,user:r}){const[d,s]=p.useState(0),[c,y]=p.useState(void 0),[i,b]=p.useState(""),j=Array(5).fill(0),[o,{isLoading:n}]=Ae(),u=async()=>{var v,f,P;if(!(r!=null&&r._id))return C.error("You must be logged in to add a review");if(i.trim().length===0)return C.error("Description cannot be empty");if(d===0)return C.error("Please provide a rating");const h={rating:d,description:i,customer:r==null?void 0:r._id,product:m==null?void 0:m._id},g=await o(h);(v=g==null?void 0:g.data)!=null&&v.success?(C.success("Review added successfully"),x(!1),b(""),s(0)):(C.error(((P=(f=g==null?void 0:g.error)==null?void 0:f.data)==null?void 0:P.message)||"Failed to add review"),console.log(g))};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(!1),className:`modal_overlay ${a&&"modal_overlay_show"}`}),e.jsxs("div",{className:`modal w-[95%] p-4 sm:w-[500px] ${a&&"modal_show"}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{children:m==null?void 0:m.title}),e.jsx("p",{className:"text-sm text-neutral-content",children:"Rate this product"})]}),e.jsx("button",{onClick:()=>x(!1),className:"text-lg text-neutral-content duration-200 hover:text-primary",children:e.jsx(ee,{})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:j.map((h,g)=>e.jsx(ke,{size:20,onClick:()=>s(g+1),onMouseOver:()=>y(g+1),onMouseLeave:()=>y(void 0),color:(c||d)>g?"#facc15":"#a9a9a9",style:{marginRight:10,cursor:"pointer"}},g))}),e.jsx("div",{className:"mt-5",children:e.jsx("textarea",{name:"",rows:"4",className:"w-full rounded border p-2 text-sm text-neutral outline-none",placeholder:"Type your comment...",value:i,required:!0,onChange:h=>b(h.target.value)})})]}),e.jsx("div",{className:"mt-1 p-3",children:e.jsx("button",{onClick:u,disabled:n&&"disabled",className:"rounded bg-primary px-4 py-1 text-base-100",children:n?"Loading...":"Submit"})})]})]})}function us({product:a}){var f,P,q,D,I,F;const[x,m]=p.useState(!1),[r,d]=p.useState(!1),{loggedCustomer:s}=H(l=>l.customer),c=a==null?void 0:a._id,[y]=Te(),[i,b]=p.useState(1),j={};j.limit=5,j.page=i,j.product=c;const{data:o}=qe(j),n=Math.ceil(parseInt((f=o==null?void 0:o.meta)==null?void 0:f.total)/parseInt((P=o==null?void 0:o.meta)==null?void 0:P.limit)),u=async l=>{var N,R,L;if(!window.confirm("Are you sure you want to delete this review?"))return;const M={customer:s==null?void 0:s._id},w=await y({reviewId:l,data:M});(N=w==null?void 0:w.data)!=null&&N.success?C.success("Review deleted successfully"):(C.error(((L=(R=w==null?void 0:w.error)==null?void 0:R.data)==null?void 0:L.message)||"Failed to delete review"),console.log(w))},[h,g]=p.useState({}),v=l=>{g(l),d(!0)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl",children:((q=a==null?void 0:a.rating)==null?void 0:q.toFixed(1))||0}),e.jsx(Q,{rating:(a==null?void 0:a.rating)||0}),e.jsxs("p",{className:"mt-1 text-sm text-neutral-content",children:[((a==null?void 0:a.rating)*(a==null?void 0:a.reviewer)).toFixed(0)," Ratings and"," ",a==null?void 0:a.reviewer," Reviews"]})]}),s&&(s!=null&&s._id)?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{children:"Rate this product"}),e.jsx("button",{onClick:()=>m(!x),className:"rounded border border-primary px-4 py-1 font-light text-primary duration-300 hover:bg-primary hover:text-base-100",children:"Write a review"}),e.jsx(hs,{addModal:x,setAddModal:m,product:a,user:s})]}):e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("p",{children:"Please login to write review"}),e.jsx(ae,{to:"/login",className:"rounded border px-4 py-1 duration-300 hover:bg-primary hover:text-base-100",children:"Login"})]})]}),o!=null&&o.data&&((D=o==null?void 0:o.data)==null?void 0:D.length)>0?e.jsxs("div",{className:"flex flex-col gap-2",children:[(I=o==null?void 0:o.data)==null?void 0:I.map(l=>{var A,M,w,N,R;return e.jsxs("div",{className:"relative border-b p-3",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("img",{src:(A=l==null?void 0:l.customer)!=null&&A.image?`https://api.torayvinobd.store/${(M=l==null?void 0:l.customer)==null?void 0:M.image}`:"/images/demo_user.jpg",alt:"loggedCustomer",className:"h-9 w-9 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{children:(w=l==null?void 0:l.customer)==null?void 0:w.name}),e.jsx("p",{className:"text-sm text-neutral-content",children:(N=l==null?void 0:l.createdAt)==null?void 0:N.split("T")[0]})]}),e.jsx(Q,{rating:l==null?void 0:l.rating})]})]}),e.jsx("p",{className:"mt-2.5 text-sm text-neutral-content",children:l==null?void 0:l.description}),((R=l==null?void 0:l.customer)==null?void 0:R._id)===(s==null?void 0:s._id)&&e.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1",children:[e.jsx("button",{onClick:()=>v(l),className:"text-lg text-neutral-content duration-200 hover:text-primary",children:e.jsx(Ce,{})}),e.jsx(De,{editModal:r,setEditModal:d,review:h,product:a}),e.jsx("button",{onClick:()=>u(l==null?void 0:l._id),className:"text-lg text-neutral-content duration-200 hover:text-primary",children:e.jsx(Pe,{})})]})]},l==null?void 0:l._id)}),o!=null&&o.data&&((F=o==null?void 0:o.data)==null?void 0:F.length)>5?e.jsx("div",{className:"p-3",children:e.jsx(Ie,{setCurrentPage:b,currentPage:i,pages:n})}):null]}):e.jsx("p",{className:"py-4 text-center text-neutral-content",children:"There have been no reviews for this product yet."})]})}function gs(){const a=H(x=>x.recentlyViewed.recentlyViewed);return e.jsx("section",{className:"mt-6",children:e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between border-b border-primary pb-2 sm:items-center",children:e.jsx("h1",{className:"font-medium text-neutral md:text-xl md:font-semibold",children:"Recently Viewed Products"})}),e.jsx("div",{className:"mt-3 grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-3",children:a.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No recently viewed products yet."}):a.map(x=>e.jsx(te,{product:x},x._id))})]})})}function fs(){return e.jsxs("details",{className:"mt-8 rounded-lg border border-gray-300",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-6 py-4 text-lg font-semibold transition-colors hover:bg-gray-100",children:["Warranty Information",e.jsx("svg",{className:"h-5 w-5 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"bg-white p-6",children:e.jsxs("section",{className:"rounded-2xl border bg-white p-6 shadow-md",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(We,{className:"h-7 w-7 text-primary"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Warranty Protected"})]}),e.jsxs("div",{className:"mb-6 rounded-xl border-l-4 border-primary bg-primary/10 p-4",children:[e.jsx("p",{className:"text-lg font-semibold text-primary",children:"Warranty Duration: 2 Years"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your device is protected from the date of purchase."})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What’s Covered"})]}),e.jsxs("ul",{className:"ml-6 list-disc space-y-1 text-gray-700",children:[e.jsx("li",{children:"Free servicing for 2 years"}),e.jsx("li",{children:"Guaranteed parts availability"}),e.jsx("li",{children:"Filter replacement reminder system"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-red-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"What’s Not Covered"})]}),e.jsxs("ul",{className:"ml-6 list-disc space-y-1 text-gray-700",children:[e.jsx("li",{children:"Physical damage (broken, cracked, burnt parts)"}),e.jsx("li",{children:"Damage caused by misuse"}),e.jsx("li",{children:"Unauthorized repairs or modifications"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(ae,{to:"/warranty-claim",className:"primary_btn px-5 py-2 text-sm font-medium",children:"Claim Warranty"})})]})})]})}function vs(){var b,j,o;Me("Product Details");const a=Re(),x=se();let m=a==null?void 0:a.id;const{data:r,isLoading:d}=Le(m),s=r==null?void 0:r.data;p.useEffect(()=>{s&&x(Ee(s))},[s,x]),p.useEffect(()=>{var h,g,v;window.scroll(0,0);const n=document.createElement("meta");n.name="description",n.content=s==null?void 0:s.description;const u=document.createElement("meta");if(u.property="og:image",u.content="https://api.torayvinobd.store"+(s==null?void 0:s.thumbnail),s!=null&&s.thumbnail&&document.getElementsByTagName("head")[0].appendChild(u),s!=null&&s.description&&document.getElementsByTagName("head")[0].appendChild(n),r!=null&&r.success){const f=parseInt((s==null?void 0:s.price)-(s==null?void 0:s.price)*(s==null?void 0:s.discount)/100);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_item",customer:{},ecommerce:{currency:"BDT",value:f,items:[{item_id:s==null?void 0:s._id,item_name:s==null?void 0:s.title,quantity:1,price:f,discount:s==null?void 0:s.discount,item_brand:s==null?void 0:s.brand,item_category:(h=s==null?void 0:s.category)==null?void 0:h.name,item_category2:(g=s==null?void 0:s.subCategory)==null?void 0:g.name,item_category3:(v=s==null?void 0:s.subSubCategory)==null?void 0:v.name}]}})}},[r,s]);const c=s!=null&&s.description?s==null?void 0:s.description:"",y=$e(c);let i=null;return d?i=e.jsx(Be,{}):(d||(i=e.jsxs("div",{children:[e.jsx("div",{id:"overview",className:"mt-4",children:e.jsx("div",{className:"w-full",children:e.jsx(rs,{product:r==null?void 0:r.data})})}),e.jsx("div",{id:"description",children:e.jsx(os,{description:y,product:s})}),((b=s==null?void 0:s.kits)==null?void 0:b.length)>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-8",id:"kits",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"mb-3 text-2xl font-bold text-gray-900",children:"Available in Kits"}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-600",children:"This product is included in the following kit packages. Get more value with complete kit solutions that include multiple products at a discounted price."})]}),e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.kits.map(n=>e.jsx(ze,{kit:n},n._id))})]}),e.jsxs("div",{className:"space-y-4 pt-8",id:"faq",children:[((j=s==null?void 0:s.kits)==null?void 0:j.length)>0&&s.kits.some(n=>{var u;return((u=n.specifications)==null?void 0:u.length)>0})&&e.jsxs("details",{className:"rounded-lg border border-gray-300",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-6 py-4 text-lg font-semibold transition-colors hover:bg-gray-100",children:["Kit Specifications",e.jsx("svg",{className:"h-5 w-5 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"space-y-8 bg-white px-6 py-4",children:s.kits.map(n=>{var u;return((u=n.specifications)==null?void 0:u.length)>0&&e.jsxs("div",{className:"border-b border-gray-200 pb-8 last:border-b-0 last:pb-0",children:[e.jsxs("h4",{className:"mb-4 flex items-center gap-2 text-lg font-semibold text-gray-900",children:[e.jsx("span",{className:"inline-flex items-center rounded-full bg-purple-600 px-2.5 py-0.5 text-xs font-medium text-white",children:"Kit"}),n.name]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-r border-gray-200 px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Specification"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Details"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.specifications.map((h,g)=>e.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap border-r border-gray-200 px-6 py-4 text-sm font-medium text-gray-900",children:h.title}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:h.description})]},g))})]})})]},n._id)})})]}),(s==null?void 0:s.productManual)&&e.jsxs("details",{className:"rounded-lg border border-gray-300",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-6 py-4 text-lg font-semibold transition-colors hover:bg-gray-100",children:["Product Manual",e.jsx("svg",{className:"h-5 w-5 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"bg-white px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-red-200 bg-red-50 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"User Manual & Installation Guide"}),e.jsx("p",{className:"text-sm text-red-600",children:"Download the complete product manual"})]})]}),e.jsxs("a",{href:`https://api.torayvinobd.store${s.productManual}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-white transition-colors hover:bg-red-700",children:[e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download PDF"]})]})})]}),((o=s==null?void 0:s.faq)==null?void 0:o.length)>0&&e.jsxs("details",{className:"rounded-lg border border-gray-300",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-6 py-4 text-lg font-semibold transition-colors hover:bg-gray-100",children:["FAQs",e.jsx("svg",{className:"h-5 w-5 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"space-y-3 bg-white px-6 py-4",children:s.faq.map((n,u)=>e.jsxs("details",{className:"rounded-lg border border-gray-200",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-4 py-3 font-medium text-gray-800 transition-colors hover:bg-gray-100",children:[n.question,e.jsx("svg",{className:"ml-2 h-4 w-4 flex-shrink-0 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"bg-white px-4 py-3 text-gray-600",children:n.answer})]},u))})]}),(s==null?void 0:s.disclaimer)&&e.jsxs("details",{className:"rounded-lg border border-gray-300",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between bg-gray-50 px-6 py-4 text-lg font-semibold transition-colors hover:bg-gray-100",children:["Disclaimer",e.jsx("svg",{className:"h-5 w-5 transform transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"bg-white px-6 py-4",children:e.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"mt-1 h-6 w-6 flex-shrink-0 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2 font-medium text-yellow-800",children:"Important Notice"}),e.jsx("p",{className:"leading-relaxed text-yellow-700",children:s.disclaimer})]})]})})})]})]}),e.jsx("div",{id:"warranty",className:"mt-8",children:e.jsx(fs,{})}),e.jsxs("div",{id:"reviews",className:"mt-5",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Product Reviews"}),e.jsx(us,{product:s})]}),e.jsx("div",{id:"related",children:e.jsx(ds,{category:s==null?void 0:s.category,currentProduct:s==null?void 0:s._id})}),e.jsx("div",{id:"recently-viewed",children:e.jsx(gs,{})})]})),e.jsxs(e.Fragment,{children:[e.jsx(xs,{}),e.jsx("section",{className:"pb-20 md:pb-8",children:e.jsx("div",{className:"container",children:i})})]}))}export{vs as default};
