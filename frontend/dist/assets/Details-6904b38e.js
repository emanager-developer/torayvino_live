import{j as e,am as q,an as S,c9 as L,b0 as B,m as A,ca as F,Q as G,cb as Q}from"./index-3d958e2c.js";import{u as R}from"./brandApi-6edcd915.js";import{u as V}from"./subCategoryApi-b4ea3950.js";import{u as $}from"./subSubCategoryApi-48398f56.js";import{u as z}from"./colorApi-56ff5f97.js";function J({thumbnail:l,setThumbnail:o}){return e.jsxs("div",{className:"rounded border p-4",children:[e.jsx("p",{className:"mb-2 text-sm",children:"Add Thumbnail "}),e.jsx(q,{value:l,onChange:r=>o(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:x,dragProps:i})=>e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",...i,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded border border-dashed p-3",children:[e.jsx("span",{onClick:r,className:"cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:"grid gap-4 rounded border border-dashed p-3 lg:grid-cols-3",children:l==null?void 0:l.map((p,a)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:p.data_url,alt:"thumbnail"}),e.jsx("div",{onClick:()=>x(a),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(S,{})})]},a))})]})})]})}function M({galleries:l,setGalleries:o,galleriesUrl:r,setGalleriesUrl:x}){const i=c=>{const v=Array.from(c.target.files).map(n=>({name:n.name,file:n}));o(n=>[...n,...v])},p=c=>{const u=l.filter((v,n)=>n!==c);o(u)},a=c=>{const u=r==null?void 0:r.filter((v,n)=>n!==c);x(u)};return e.jsxs("div",{className:"mt-3 rounded border p-4",children:[e.jsxs("p",{className:"mb-2 text-sm",children:["Edit Gallery ",e.jsx("small",{children:"(optional - max 10 images)"})]}),e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("div",{className:"flex flex-wrap space-x-2",children:[(r==null?void 0:r.length)>0&&(r==null?void 0:r.map((c,u)=>e.jsxs("div",{className:"relative mb-2 h-14 w-20 overflow-hidden rounded object-cover",children:[e.jsx("img",{src:"https://api.torayvinobd.store"+c,alt:c==null?void 0:c.name,className:"h-full w-full rounded border object-cover"}),e.jsx("button",{onClick:()=>a(u),className:"absolute left-0 top-0 flex h-full w-full items-center justify-center bg-black/60 text-base-100 opacity-0 duration-300 hover:text-red-500 hover:opacity-100",children:e.jsx(L,{className:"text-2xl"})})]},u))),(l==null?void 0:l.length)>0&&(l==null?void 0:l.map((c,u)=>e.jsxs("div",{className:"relative mb-2 h-14 w-20 overflow-hidden rounded object-cover",children:[e.jsx("img",{src:URL.createObjectURL(c==null?void 0:c.file),alt:c==null?void 0:c.name,className:"h-full w-full rounded border object-cover"}),e.jsx("button",{onClick:()=>p(u),className:"absolute left-0 top-0 flex h-full w-full items-center justify-center bg-black/60 text-base-100 opacity-0 duration-300 hover:text-red-500 hover:opacity-100",children:e.jsx(L,{className:"text-2xl"})})]},u))),e.jsxs("div",{className:"relative flex h-14 w-32 cursor-pointer items-center justify-center rounded border-2 border-dashed border-primary bg-primary/10",children:[e.jsx("input",{type:"file",multiple:!0,className:"absolute z-50 h-full w-full cursor-pointer",style:{opacity:0,top:0,left:0,cursor:"pointer"},onChange:i}),e.jsx("span",{className:"text-primary",children:"+ Add more"})]})]})})]})}function H({title:l,setTitle:o,categoryId:r,setCategoryId:x,subCategoryId:i,setSubCategoryId:p,subSubCategoryId:a,setSubSubCategoryId:c,brand:u,setBrand:v}){const{data:n}=B(),{data:w}=V({category:r},{skip:!r}),{data:b}=$(),{data:k}=R(),g=(n==null?void 0:n.data)||[],N=(w==null?void 0:w.data)||[],j=((b==null?void 0:b.data)||[]).filter(s=>{var P,D;return(P=s==null?void 0:s.subCategory)!=null&&P._id?((D=s==null?void 0:s.subCategory)==null?void 0:D._id)===i:(s==null?void 0:s.subCategory)===i})||[],h=(k==null?void 0:k.data)||[];return e.jsxs("div",{className:"mb-5 flex flex-col gap-3 rounded border p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Product Title"}),e.jsx("input",{type:"text",name:"title",onChange:s=>o(s.target.value),required:!0,value:l})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Category *"}),e.jsxs("select",{name:"category",required:!0,onChange:s=>x(s.target.value),value:r,children:[e.jsx("option",{value:"",children:"Select Category"}),g==null?void 0:g.map(s=>e.jsx("option",{value:s==null?void 0:s._id,children:s==null?void 0:s.name},s==null?void 0:s._id))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Sub Category"}),e.jsxs("select",{name:"sub_category",onChange:s=>p(s.target.value),value:i,children:[e.jsx("option",{value:"",children:"Select Sub Category"}),(N==null?void 0:N.length)>0&&(N==null?void 0:N.map(s=>e.jsx("option",{value:s==null?void 0:s._id,children:s==null?void 0:s.name},s==null?void 0:s._id)))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Sub SubCategory"}),e.jsxs("select",{name:"sub_subCategory",onChange:s=>c(s.target.value),value:a,children:[e.jsx("option",{value:"",children:"Select Sub SubCategory"}),(j==null?void 0:j.length)>0&&(j==null?void 0:j.map(s=>e.jsx("option",{value:s==null?void 0:s._id,children:s==null?void 0:s.name},s==null?void 0:s._id)))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Brand"}),e.jsxs("select",{name:"brand",onChange:s=>v(s.target.value),value:u,children:[e.jsx("option",{value:"",children:"Select Brand"}),e.jsx("option",{value:"No Brand",children:"No Brand"}),(h==null?void 0:h.length)>0&&(h==null?void 0:h.map(s=>e.jsx("option",{value:s==null?void 0:s.slug,children:s==null?void 0:s.name},s==null?void 0:s._id)))]})]})]})]})}function W({price:l,setPrice:o,setDiscount:r,stock:x,setStock:i,isVariant:p}){return console.log(l,x),e.jsxs("div",{className:"mt-4 rounded border p-4",children:[e.jsx("p",{children:"Price & Discount "}),e.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Price *"}),e.jsx("input",{type:"number",onChange:a=>o(a.target.value),required:!0,disabled:p,value:l})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Stock *"}),e.jsx("input",{type:"number",onChange:a=>i(a.target.value),required:!0,value:x,disabled:p})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:"Discount %"}),e.jsx("input",{type:"number",onChange:a=>r(a.target.value)})]})]})]})}function X({isVariant:l,setIsVariant:o,variants:r,setVariants:x,variantImages:i,setVariantImages:p}){const[a,c]=A.useState(""),[u,v]=A.useState(""),[n,w]=A.useState(""),[b,k]=A.useState(""),[g,N]=A.useState(""),{data:j}=z(),h=(j==null?void 0:j.data)||[],s=()=>{if(!b||!g)return G.warning("All fields are required for variant");let t="";if(a&&n)t=`${a.toLowerCase()}-${n.toLowerCase()}`;else if(a&&!n)t=a.toLowerCase();else if(n&&!a)t=n.toLowerCase();else return G.success("please select color or size");if(r!=null&&r.find(d=>(d==null?void 0:d.sku)===t))return G.error("this variant already exist");x(d=>[...d,{color:a,colorCode:u,size:n,price:b,stock:g,sku:t}]),c(""),v(""),w(""),k(""),N("")},P=(t,d,m)=>{const f=t.target.value;x(C=>{const _=C.findIndex(y=>y.sku===d);if(f==="000")return C.filter(y=>y.sku!==d);if(_>=0){const y=[...C];return y[_]={...y[_],[m]:f},y}else return[...C,{sku:d,[m]:f}]})},D=t=>{window.confirm("Are you sure you want to delete this variant?")&&x(m=>m.filter(f=>f.sku!==t))};return e.jsxs("div",{className:"mt-4 rounded border p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("p",{children:"Variant: "}),e.jsxs("label",{className:"relative flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",className:"peer sr-only",checked:l,onChange:()=>{o(!l)}}),e.jsx("div",{className:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-secondary peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-blue-300 rtl:peer-checked:after:-translate-x-full"})]})]})}),l&&e.jsxs("div",{className:"mt-2 rounded border p-3",children:[e.jsxs("div",{className:"mt-3 grid grid-cols-4 gap-3",children:[e.jsxs("select",{className:"w-full",onChange:t=>{const d=h.find(m=>m.name===t.target.value);c((d==null?void 0:d.name)||""),v((d==null?void 0:d.code)||"")},value:a,children:[e.jsx("option",{value:"",children:"Select Color"}),h==null?void 0:h.map(t=>e.jsx("option",{value:t.name,"data-code":t.code,children:t==null?void 0:t.name},t==null?void 0:t._id))]}),e.jsx("input",{type:"text",placeholder:"Size",onChange:t=>w(t.target.value),value:n}),e.jsx("input",{type:"number",placeholder:"Price",onChange:t=>k(t.target.value),value:b}),e.jsx("input",{type:"number",placeholder:"Stock",onChange:t=>N(t.target.value),value:g})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{onClick:s,className:"mt-2 flex cursor-pointer items-center gap-2 rounded border border-primary px-4 py-2 text-xs text-primary",children:[e.jsx(F,{}),"Add Variant"]})}),(r==null?void 0:r.length)>0&&e.jsx("div",{className:"mt-3 space-y-4",children:r.map((t,d)=>e.jsxs("div",{className:"rounded border border-gray-200 p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-800",children:["Variant: ",t.sku]}),e.jsx("button",{type:"button",onClick:()=>D(t==null?void 0:t.sku),className:"text-red-500 hover:text-red-700",children:e.jsx(L,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),e.jsx("input",{type:"number",className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",onChange:m=>P(m,t==null?void 0:t.sku,"price"),required:!0,value:t==null?void 0:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),e.jsx("input",{type:"number",className:"w-full rounded border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none",onChange:m=>P(m,t==null?void 0:t.sku,"stock"),required:!0,value:t==null?void 0:t.stock})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variant Image"}),e.jsx(q,{value:i[d]||[],onChange:m=>{const f=[...i||[]];f[d]=m,p(f)},dataURLKey:"data_url",children:({onImageUpload:m,onImageRemove:f,dragProps:C})=>{var _;return e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",...C,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded border border-dashed border-gray-300 p-4 bg-white",children:[e.jsx("button",{type:"button",onClick:m,className:"cursor-pointer rounded bg-blue-500 px-4 py-2 text-sm text-white hover:bg-blue-600",children:"Choose Image"}),e.jsx("p",{className:"text-xs text-gray-500",children:"or Drop here"})]}),e.jsx("div",{className:"rounded border border-dashed border-gray-300 p-4 bg-white",children:i&&((_=i[d])==null?void 0:_.length)>0?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i[d][0].data_url,alt:`Variant ${t.sku}`,className:"h-20 w-full object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>f(0),className:"absolute right-1 top-1 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-red-500 text-white text-xs hover:bg-red-600",children:"Ã—"})]}):t.image?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`https://api.torayvinobd.store${t.image}`,alt:`Variant ${t.sku}`,className:"h-16 w-16 rounded object-cover"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Current Image"})]}):e.jsx("div",{className:"flex items-center justify-center h-16",children:e.jsx("p",{className:"text-xs text-gray-400",children:"No image selected"})})})]})}})]})]})]},d))})]})]})}function Y({featured:l,setFeatured:o}){return e.jsxs("div",{className:"mt-6 rounded border p-4",children:[e.jsx("p",{className:"text-sm",children:"Featured Product"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{children:"Status:"}),e.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[e.jsx("input",{onChange:()=>o(!l),type:"checkbox",checked:l,className:"peer sr-only"}),e.jsx("div",{className:"peer h-[23px] w-11 rounded-full bg-gray-200 after:absolute after:start-[1px] after:top-[1.5px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full"})]})]})})]})}function Z({details:l,setDetails:o}){const r=A.useRef(null);return e.jsxs("div",{className:"add_product_details mt-6",children:[e.jsx("p",{className:"text-sm",children:"Description"}),e.jsx("div",{className:"mt-2",children:e.jsx(Q,{ref:r,value:l,onBlur:x=>o(x)})})]})}export{Z as D,Y as F,M as G,H as P,J as T,X as V,W as a};
