import{t as w,cV as M,j as e,S as B,L as N,H as I,cH as O,Q as f}from"./index-3d958e2c.js";function L(){var a,x;const{data:i,isLoading:y}=w(),[E]=M(),v=async s=>{var r,d,l,c,o,n,h,j,u,p,g;if(window.confirm("Are you sure you want to delete this bank?")){const t=await E(s);(r=t==null?void 0:t.data)!=null&&r.success?f.success(((d=t==null?void 0:t.data)==null?void 0:d.message)||"Bank deleted successfully"):f.error(`${((n=(o=(c=(l=t==null?void 0:t.error)==null?void 0:l.data)==null?void 0:c.error)==null?void 0:o[0])==null?void 0:n.message)||((u=(j=(h=t==null?void 0:t.error)==null?void 0:h.data)==null?void 0:j.error)==null?void 0:u.message)||((g=(p=t==null?void 0:t.error)==null?void 0:p.data)==null?void 0:g.message)||"Something went wrong!"}`)}};return y?e.jsx(B,{}):e.jsxs("section",{className:"rounded bg-base-100 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4 font-medium text-neutral",children:[e.jsx("h3",{children:"Bank EMI Lists"}),e.jsx(N,{to:"/admin/ecommerce-setting/emi/add",className:"primary_btn",children:"Add Bank EMI"})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative overflow-x-auto shadow-lg",children:[e.jsxs("table",{className:"dashboard_table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Logo"}),e.jsx("th",{children:"Bank Name"}),e.jsx("th",{children:"EMI Options"}),e.jsx("th",{children:"Total Options"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:(a=i==null?void 0:i.data)==null?void 0:a.map(s=>{var m,r,d,l,c;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("img",{src:`https://api.torayvinobd.store${s==null?void 0:s.logo}`,alt:s==null?void 0:s.bankName,className:"h-10 w-16 rounded border object-contain"})})}),e.jsx("td",{children:e.jsx("span",{className:"font-medium",children:s==null?void 0:s.bankName})}),e.jsx("td",{children:e.jsxs("div",{className:"max-w-xs",children:[(r=(m=s==null?void 0:s.emiOptions)==null?void 0:m.slice(0,3))==null?void 0:r.map((o,n)=>e.jsx("div",{className:"text-xs",children:e.jsxs("span",{className:"inline-block bg-gray-100 px-2 py-1 rounded mr-1 mb-1",children:[o.months,"M - ",o.chargePercentage,"%"]})},n)),((d=s==null?void 0:s.emiOptions)==null?void 0:d.length)>3&&e.jsxs("span",{className:"text-xs text-neutral-content italic",children:["+",((l=s==null?void 0:s.emiOptions)==null?void 0:l.length)-3," more"]})]})}),e.jsx("td",{children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:[(c=s==null?void 0:s.emiOptions)==null?void 0:c.length," options"]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[e.jsx(N,{to:`/admin/ecommerce-setting/emi/edit/${s==null?void 0:s._id}`,className:"duration-200 hover:text-blue-500",title:"Edit Bank EMI",children:e.jsx(I,{})}),e.jsx("button",{onClick:()=>v(s==null?void 0:s._id),className:"duration-200 hover:text-red-500",title:"Delete Bank EMI",children:e.jsx(O,{})})]})})]},s==null?void 0:s._id)})})]}),(!(i!=null&&i.data)||((x=i==null?void 0:i.data)==null?void 0:x.length)===0)&&e.jsx("div",{className:"text-center py-8 text-neutral-content",children:e.jsx("p",{children:"No banks found. Add your first bank EMI."})})]})})]})}export{L as default};
