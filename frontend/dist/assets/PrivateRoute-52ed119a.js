import{o as d,J as x,k as g,p as a,aa as i,ag as m,j as o,S as c,ah as j}from"./index-f981d823.js";const L=({children:f})=>{const{token:e}=d(s=>s.customer),l=x(),t=g(),[p,r]=a.useState(!0),[n,u]=a.useState(null);return a.useEffect(()=>{if(e){const s=m(e);if(!s){t(i());return}u(s)}else{t(i()),u(null),r(!1);return}r(!1)},[e,t]),p?o.jsx(c,{}):!n||!e?o.jsx(j,{to:"/login",state:{from:l},replace:!0}):n&&e?f:o.jsx(c,{})};export{L as default};
