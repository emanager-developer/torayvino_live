import{p as N,aN as w,d3 as v,d4 as y,j as e,S,ap as C,aq as M,Q as d}from"./index-f981d823.js";function D(){const[s,c]=N.useState([]),{data:m,isLoading:j}=w(),t=m==null?void 0:m.data,u=t==null?void 0:t._id,[b,{isLoading:x}]=v(),[f,{isLoading:g}]=y(),L=async()=>{var i,l,o,p,h;const r=(i=s[0])==null?void 0:i.file;if(!r)return d.error("Logo is required");let n=new FormData;if(n.append("image",r),u){const a=await f({id:u,formData:n});a.error?d.error("Something went wrong when uploading"):(d.success(((o=(l=a==null?void 0:a.error)==null?void 0:l.data)==null?void 0:o.message)||"Logo successfully added"),c([]),console.log(a))}else{const a=await b(n);a.error?d.error("Something went wrong when uploading"):(d.success(((h=(p=a==null?void 0:a.error)==null?void 0:p.data)==null?void 0:h.message)||"Logo successfully added"),c([]),console.log(a))}};return j?e.jsx(S,{}):e.jsxs("section",{children:[e.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:e.jsx("h1",{className:"font-medium text-neutral",children:"Logo Setting"})}),e.jsxs("div",{className:"rounded bg-base-100 shadow",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"border-b p-3 text-neutral-content",children:["Logo ",e.jsx("small",{children:"(max 120px/56px)"})]}),e.jsxs("div",{className:"items-center gap-4 p-4 sm:flex",children:[e.jsx(C,{value:s,onChange:r=>c(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:n,dragProps:i})=>e.jsxs("div",{className:"w-max rounded border border-dashed p-4",...i,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:r,className:"cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((l,o)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:l.data_url,alt:"",className:"w-40"}),e.jsx("div",{onClick:()=>n(o),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(M,{})})]},o))})]})}),(t==null?void 0:t.logo)&&(s==null?void 0:s.length)>=0&&e.jsx("img",{src:`https://api.torayvinobd.store/${t==null?void 0:t.logo}`,alt:"logo",className:"mt-4 w-32 sm:mt-0"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end border-t p-4",children:e.jsx("button",{disabled:g||x,onClick:L,className:"primary_btn",children:g||x?"Loading":u?"Update Logo":"Add Logo"})})]})]})}export{D as default};
