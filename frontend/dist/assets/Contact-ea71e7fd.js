import{j as e,c_ as q,c$ as B,m as E,d0 as Q,d1 as Y,d2 as H,S as O,Q as x}from"./index-e0eec1b4.js";const z=[{label:"Facebook",value:"FaFacebook"},{label:"Twitter",value:"FaTwitter"},{label:"LinkedIn",value:"FaLinkedin"},{label:"Instagram",value:"FaInstagram"},{label:"YouTube",value:"FaYoutube"},{label:"Pinterest",value:"FaPinterest"},{label:"GitHub",value:"FaGithub"},{label:"Behance",value:"FaBehance"},{label:"Twitch",value:"FaTwitch"},{label:"Snapchat",value:"FaSnapchat"},{label:"Reddit",value:"FaReddit"},{label:"WhatsApp",value:"FaWhatsapp"},{label:"WhatsApp Square",value:"FaWhatsappSquare"},{label:"Telegram",value:"FaTelegram"},{label:"Medium",value:"FaMedium"},{label:"Discord",value:"FaDiscord"},{label:"Tiktok",value:"FaTiktok"},{label:"Skype",value:"FaSkype"}];function J({socials:s,setSocials:r}){const u=(l,d)=>{const n=s.map((i,o)=>o===l?{...i,url:d.target.value}:i);r(n)},h=(l,d)=>{const n=s.map((i,o)=>o===l?{...i,icon:d.target.value}:i);r(n)},a=()=>{m()?r([...s,{icon:"",url:""}]):alert("Please select an icon and provide a URL.")},c=l=>{const d=[...s];d.splice(l,1),r(d)},m=()=>s.every(l=>l.icon!==""&&l.url!=="");return e.jsxs("div",{className:"mt-3 flex flex-col gap-3 rounded border p-3",children:[s==null?void 0:s.map((l,d)=>e.jsxs("div",{className:"flex gap-2 text-sm",children:[e.jsxs("select",{value:l.icon,onChange:n=>h(d,n),children:[e.jsx("option",{value:"",children:"Select Platform"}),z.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]}),e.jsx("input",{type:"text",name:"url",placeholder:"Social Media URL",value:l.url,onChange:n=>u(d,n)}),e.jsx("button",{type:"button",onClick:()=>c(d),className:"flex w-20 items-center justify-center rounded-md bg-red-500 text-white",children:e.jsx(q,{})})]},d)),e.jsxs("button",{type:"button",onClick:a,disabled:(s==null?void 0:s.length)>0&&!m(),className:"flex w-max items-center gap-2 rounded bg-gray-500 px-4 py-2 text-sm text-base-100",children:[e.jsx(B,{className:"text-xs"})," Add Social Link"]})]})}function X(){const[s,r]=E.useState([]),{data:u,isLoading:h}=Q(),a=u==null?void 0:u.data,c=a==null?void 0:a._id;E.useEffect(()=>{a!=null&&a.socials&&r(a==null?void 0:a.socials)},[a]);const[m,{isLoading:l}]=Y(),[d,{isLoading:n}]=H(),i=async o=>{var g,b,j,f,F,w,C,y,N,S,k,L,T,A,I,M,P,R,V,W;o.preventDefault();const p=o.target,U=p.title.value,_=p.phone.value,D=p.whatsapp.value,G=p.email.value,$=p.address.value,v={title:U,phone:_,whatsapp:D,email:G,address:$,socials:s};if(c){const t=await m({id:c,contactInfo:v});(g=t==null?void 0:t.data)!=null&&g.success?x.success("Contact updated successfully"):(x.error(`${((F=(f=(j=(b=t==null?void 0:t.error)==null?void 0:b.data)==null?void 0:j.error)==null?void 0:f[0])==null?void 0:F.message)||((y=(C=(w=t==null?void 0:t.error)==null?void 0:w.data)==null?void 0:C.error)==null?void 0:y.message)||((S=(N=t==null?void 0:t.error)==null?void 0:N.data)==null?void 0:S.message)||"Something went wrong!"}`),console.log(t))}else{const t=await d(v);(k=t==null?void 0:t.data)!=null&&k.success?x.success("Contact add successfully"):(x.error(`${((I=(A=(T=(L=t==null?void 0:t.error)==null?void 0:L.data)==null?void 0:T.error)==null?void 0:A[0])==null?void 0:I.message)||((R=(P=(M=t==null?void 0:t.error)==null?void 0:M.data)==null?void 0:P.error)==null?void 0:R.message)||((W=(V=t==null?void 0:t.error)==null?void 0:V.data)==null?void 0:W.message)||"Something went wrong!"}`),console.log(t))}};return h?e.jsx(O,{}):e.jsxs("section",{className:"rounded bg-base-100 pb-4 shadow",children:[e.jsx("div",{className:"border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:"Contact Info"})}),e.jsxs("form",{onSubmit:i,className:"form_group mx-4 mt-3 flex flex-col gap-3 rounded border p-4 text-sm",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Title"}),e.jsx("input",{type:"text",name:"title",defaultValue:a==null?void 0:a.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Email"}),e.jsx("input",{type:"email",name:"email",defaultValue:a==null?void 0:a.email})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",defaultValue:a==null?void 0:a.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Whatsapp"}),e.jsx("input",{type:"text",name:"whatsapp",defaultValue:a==null?void 0:a.whatsapp})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Address"}),e.jsx("textarea",{name:"address",rows:"3",defaultValue:a==null?void 0:a.address})]}),e.jsx(J,{socials:s,setSocials:r}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{disabled:l||n,className:"primary_btn",children:l||n?"Loading...":c?"Update Contact":"Add Contact"})})]})]})}export{X as default};
