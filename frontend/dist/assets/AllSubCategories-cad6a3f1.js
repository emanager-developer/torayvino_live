import{j as e,S as M,L as _,bb as k,M as E,Q as A}from"./index-3d958e2c.js";import{u as Q,b as B}from"./subCategoryApi-b4ea3950.js";function O(){const{data:l,isLoading:x,isError:D}=Q(),d=l==null?void 0:l.data,[L]=B(),$=async n=>{var c,h,m,o,j,f,p,S,N,v,w;const r=n==null?void 0:n._id,t=(c=n==null?void 0:n.category)==null?void 0:c._id;if(window.confirm("Are you sure delete this Sub Category?")){const i=await L({id:r,categoryId:t});(h=i==null?void 0:i.data)!=null&&h.success?A.success("Delete Success"):A.error(`${((f=(j=(o=(m=i==null?void 0:i.error)==null?void 0:m.data)==null?void 0:o.error)==null?void 0:j[0])==null?void 0:f.message)||((N=(S=(p=i==null?void 0:i.error)==null?void 0:p.data)==null?void 0:S.error)==null?void 0:N.message)||((w=(v=i==null?void 0:i.error)==null?void 0:v.data)==null?void 0:w.message)||"Something went wrong!"}`)}};let s=null;return x?s=e.jsx(M,{}):(!x&&!D&&(d==null?void 0:d.length)>0&&(s=d==null?void 0:d.map((n,r)=>{var t,a,c;return e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:n==null?void 0:n.name}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`https://api.torayvinobd.store/${(t=n==null?void 0:n.category)==null?void 0:t.image}`,alt:(a=n==null?void 0:n.category)==null?void 0:a.name,className:"h-10 w-10 rounded-full border"}),(c=n==null?void 0:n.category)==null?void 0:c.name]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{to:`/admin/category/edit-sub-category/${n==null?void 0:n._id}`,className:"flex items-center gap-1 duration-300 hover:text-green-700",children:e.jsx(k,{})}),e.jsx("button",{onClick:()=>$(n),className:"hover:text-red-500",children:e.jsx(E,{})})]})})]},n==null?void 0:n._id)})),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between rounded bg-base-100 px-4 py-2",children:[e.jsx("h2",{children:"All Sub Categories"}),e.jsx(_,{to:"/admin/category/add-sub-category",className:"primary_btn text-sm",children:"Add New"})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-lg",children:e.jsxs("table",{className:"dashboard_table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SL"}),e.jsx("th",{children:"Sub Category"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s||e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-sm text-red-500",children:"No subcategory found!"})})})]})})]}))}export{O as default};
