import{k as q,V as G,m as c,c as v,W as V,j as s,f as N,U as k,K as W,X as $,D as R}from"./index-e0eec1b4.js";function X(){var j,b;q("Shop"),window.scrollTo(0,0);const[x]=G();let t=x.get("search"),P=x.get("type");const[a,h]=c.useState(P==="kits"?"kits":"products"),[o,f]=c.useState(""),{data:p}=v({limit:100},{skip:a!=="kits"}),w=(p==null?void 0:p.data)||[],[d,S]=c.useState(1),[_,C]=c.useState({}),[K,Q]=c.useState({});c.useEffect(()=>{const e={};e.page=d,e.limit=8,t&&(e.search=t),C(e)},[t,d]),c.useEffect(()=>{const e={};e.page=d,e.limit=8,t&&(e.search=t),o&&a==="kits"&&(e.product=o),Q(e)},[t,d,a,o]);const{data:n,isLoading:A,isFetching:E}=v(_),m=(n==null?void 0:n.data)||[],{data:u,isLoading:F,isFetching:L}=V(K),g=(u==null?void 0:u.data)||[],r=a==="products"?n:u,T=A||F||E||L;let i=null;if(T)i=s.jsx(R,{});else if(t){const e=m.length>0,y=g.length>0;i=s.jsxs("div",{className:"space-y-8 w-full",children:[e&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral mb-3",children:"Products"}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4 lg:grid-cols-3",children:m.map(l=>s.jsx(N,{product:l},l._id))})]}),y&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-neutral mb-3",children:"Kits"}),s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:g.map(l=>s.jsx(k,{kit:l},l._id))})]}),!e&&!y&&s.jsx("div",{className:"py-8 text-center text-gray-400",children:"No results found."})]})}else a==="products"?i=m.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4 lg:grid-cols-3",children:m.map(e=>s.jsx(N,{product:e},e._id))}):s.jsx("div",{className:"col-span-4 py-8 text-center text-gray-400",children:"No water purifiers found."}):i=g.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:g.map(e=>s.jsx(k,{kit:e},e._id))}):s.jsx("div",{className:"col-span-4 py-8 text-center text-gray-400",children:"No kits found."});return s.jsxs("div",{className:"min-h-[70vh] bg-gray-50 py-8",children:[s.jsxs("div",{className:"container",children:[!t&&s.jsxs("div",{className:"mx-auto mb-4 flex max-w-sm justify-center gap-2",children:[s.jsx("button",{className:`${a==="products"?"gkk-tab-button products_btn active w-full whitespace-nowrap font-semibold uppercase max-md:!text-sm md:text-lg":"products_btn gkk-tab-button w-full font-semibold uppercase max-md:!text-sm md:text-lg"}`,onClick:()=>h("products"),children:"Water Purifiers"}),s.jsx("button",{className:`${a==="kits"?"gkk-tab-button products_btn active w-full whitespace-nowrap font-semibold uppercase max-md:!text-sm md:text-lg":"products_btn gkk-tab-button w-full font-semibold uppercase max-md:!text-sm md:text-lg"}`,onClick:()=>{h("kits"),f("")},children:"Cartridge"})]}),!t&&a==="kits"&&s.jsx("div",{className:"mx-auto mb-6 flex max-w-md justify-center",children:s.jsxs("select",{value:o,onChange:e=>f(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",children:[s.jsx("option",{value:"",children:"All Kits"}),w.map(e=>s.jsx("option",{value:e._id,children:e.title},e._id))]})}),i,!t&&((j=r==null?void 0:r.meta)==null?void 0:j.pages)>1&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx(W,{pages:(b=r==null?void 0:r.meta)==null?void 0:b.pages,currentPage:d,setCurrentPage:S})})]}),s.jsx("div",{className:"mt-16",children:s.jsx($,{})})]})}export{X as default};
