import{j as s,S as w,L as f,O as N,cH as L,Q as h}from"./index-f981d823.js";import{a as D,b as y,c as A}from"./couponApi-d935a6e5.js";function _(){var x,j;const{data:d,isLoading:c}=D(),[g]=y(),[C]=A(),b=async e=>{var l,m,a;if(window.confirm("Are you sure delete this coupon?")){const t=await g(e);(l=t==null?void 0:t.data)!=null&&l.success?h.success("Delete success"):(h.error(((a=(m=t==null?void 0:t.error)==null?void 0:m.data)==null?void 0:a.message)||"Delete failed"),console.log(t))}},v=async e=>{var a,t,n;const r=e==null?void 0:e._id,l={isActive:!(e!=null&&e.isActive)};if(window.confirm("Are you sure update this coupon status?")){const i=await C({id:r,coupon:l});(a=i==null?void 0:i.data)!=null&&a.success?h.success("Update success"):(h.error(((n=(t=i==null?void 0:i.error)==null?void 0:t.data)==null?void 0:n.message)||"Something went wrong"),console.log(i))}};return c?s.jsx(w,{}):s.jsxs("section",{className:"rounded bg-base-100 shadow",children:[s.jsxs("div",{className:"flex items-center justify-between border-b p-4 font-medium text-neutral",children:[s.jsx("h3",{children:"Coupon Lists"}),s.jsx(f,{to:"/admin/ecommerce-setting/coupons/add-coupon",className:"primary_btn",children:"Add New Coupon"})]}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"relative overflow-x-auto shadow-lg",children:s.jsxs("table",{className:"dashboard_table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Sl"}),s.jsx("th",{children:"Coupon Code"}),s.jsx("th",{children:"Discount"}),s.jsx("th",{children:"Minimum Ammount"}),s.jsx("th",{children:"Usage Limit"}),s.jsx("th",{children:"Available"}),s.jsx("th",{children:"Start Date-Time"}),s.jsx("th",{children:"End Date-Time"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:((x=d==null?void 0:d.data)==null?void 0:x.length)>0&&((j=d==null?void 0:d.data)==null?void 0:j.map((e,r)=>s.jsxs("tr",{children:[s.jsx("td",{children:r+1}),s.jsx("td",{children:e==null?void 0:e.code}),s.jsxs("td",{children:[e==null?void 0:e.discount,"%"]}),s.jsxs("td",{children:[e==null?void 0:e.minimumShopping,"tk"]}),s.jsx("td",{children:e!=null&&e.isUsageLimit?e==null?void 0:e.usageLimit:"No Limit"}),s.jsx("td",{children:e!=null&&e.isUsageLimit?e==null?void 0:e.availableCount:"No Limit"}),s.jsxs("td",{children:[e==null?void 0:e.startDate,"-",e==null?void 0:e.startTime]}),s.jsxs("td",{children:[e==null?void 0:e.endDate,"-",e==null?void 0:e.endTime]}),s.jsx("td",{children:s.jsx("button",{onClick:()=>v(e),children:s.jsx("input",{type:"checkbox",checked:e==null?void 0:e.isActive})})}),s.jsx("td",{children:s.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[s.jsx(f,{to:`/admin/ecommerce-setting/coupons/edit-coupon/${e==null?void 0:e._id}`,className:"duration-200 hover:text-red-500",children:s.jsx(N,{})}),s.jsx("button",{onClick:()=>b(e==null?void 0:e._id),className:"duration-200 hover:text-red-500",children:s.jsx(L,{})})]})})]},e==null?void 0:e._id)))})]})})})]})}export{_ as default};
