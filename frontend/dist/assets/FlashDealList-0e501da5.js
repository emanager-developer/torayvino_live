import{m as v,df as _,dg as E,j as e,L as k,bb as L,J as f,Q as N,dh as A,S as T}from"./index-3d958e2c.js";function M({flashDeal:t,i:d}){var s;const[i,c]=v.useState(null);v.useEffect(()=>{c(t==null?void 0:t.status)},[t]);const[n]=_(),[y]=E(),S=async o=>{var a,x,u,m,j,l,g,h,p,b,w;if(window.confirm("Are you sure update status?")){const r=await y(o);(a=r==null?void 0:r.data)!=null&&a.success?N.success(((x=r==null?void 0:r.data)==null?void 0:x.message)||"Status update successfully"):(N.error(`${((l=(j=(m=(u=r==null?void 0:r.error)==null?void 0:u.data)==null?void 0:m.error)==null?void 0:j[0])==null?void 0:l.message)||((p=(h=(g=r==null?void 0:r.error)==null?void 0:g.data)==null?void 0:h.error)==null?void 0:p.message)||((w=(b=r==null?void 0:r.error)==null?void 0:b.data)==null?void 0:w.message)||"Something went wrong!"}`),console.log(r))}},F=async o=>{var a,x,u,m,j,l,g,h,p,b,w;if(window.confirm("Are you sure delete this FlasgDeal")){const r=await n(o);(a=r==null?void 0:r.data)!=null&&a.success?N.success(((x=r==null?void 0:r.data)==null?void 0:x.message)||"Flash Deal deleted successfully"):N.error(`${((l=(j=(m=(u=r==null?void 0:r.error)==null?void 0:u.data)==null?void 0:m.error)==null?void 0:j[0])==null?void 0:l.message)||((p=(h=(g=r==null?void 0:r.error)==null?void 0:g.data)==null?void 0:h.error)==null?void 0:p.message)||((w=(b=r==null?void 0:r.error)==null?void 0:b.data)==null?void 0:w.message)||"Something went wrong!"}`)}};return e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:t==null?void 0:t.title}),e.jsx("td",{children:(s=t==null?void 0:t.flashProducts)==null?void 0:s.length}),e.jsx("td",{children:t==null?void 0:t.startDate}),e.jsx("td",{children:t==null?void 0:t.endDate}),e.jsx("td",{children:e.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[e.jsx("input",{defaultChecked:i,type:"checkbox",value:i,className:"peer sr-only",onClick:()=>S(t==null?void 0:t._id)}),e.jsx("div",{className:"peer h-[23px] w-11 rounded-full bg-gray-200 after:absolute after:start-[1px] after:top-[1.5px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{to:`/admin/flash-deal/edit/${t==null?void 0:t._id}`,className:"duration-200 hover:text-green-700",children:e.jsx(L,{})}),e.jsx("button",{onClick:()=>F(t==null?void 0:t._id),className:"text-lg duration-200 hover:text-red-600",children:e.jsx(f,{})})]})})]})}function $(){var y,S,F;const{data:t,isLoading:d,isError:i,error:c}=A();let n=null;return d?n=e.jsx(T,{}):(!d&&i&&(n=e.jsx("p",{children:(y=c==null?void 0:c.data)==null?void 0:y.error})),!d&&!i&&((S=t==null?void 0:t.data)==null?void 0:S.length)>0&&(n=(F=t==null?void 0:t.data)==null?void 0:F.map((s,o)=>e.jsx(M,{flashDeal:s,i:o},s==null?void 0:s._id))),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3 flex items-end justify-between",children:[e.jsx("h1",{className:"text-neutral-content text-lg",children:"Flash Deal"}),e.jsx(k,{to:"/admin/flash-deal/add",className:"primary_btn text-sm",children:"Add New Flash Deal"})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-lg",children:e.jsxs("table",{className:"dashboard_table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SL"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Total Products"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:n})]})})]}))}export{$ as default};
