import{l as p,E as m,g as x,m as r,a7 as i,ad as g,j as a,S as c,ae as j}from"./index-3d958e2c.js";const E=({children:f})=>{const{token:e}=p(s=>s.customer),l=m(),t=x(),[d,o]=r.useState(!0),[n,u]=r.useState(null);return r.useEffect(()=>{if(e){const s=g(e);if(!s){t(i());return}u(s)}else{t(i()),u(null),o(!1);return}o(!1)},[e,t]),d?a.jsx(c,{}):!n||!e?a.jsx(j,{to:"/login",state:{from:l},replace:!0}):n&&e?f:a.jsx(c,{})};export{E as default};
