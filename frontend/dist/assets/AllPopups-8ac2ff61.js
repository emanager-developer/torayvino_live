import{d5 as j,d6 as f,d7 as p,j as e,S as g,L as i,d8 as b,bc as N,ce as w,Q as s}from"./index-f981d823.js";function y(){const{data:r,isLoading:d}=j(),l=(r==null?void 0:r.data)||[],[c,{isLoading:o}]=f(),[x,{isLoading:h}]=p(),u=async t=>{var n;const a=await x(t);a.error?s.error("Something went wrong when toggling status"):s.success(((n=a.data)==null?void 0:n.message)||"Status updated successfully")},m=async t=>{window.confirm("Are you sure you want to delete this popup?")&&((await c(t)).error?s.error("Something went wrong when deleting"):s.success("Popup deleted successfully"))};return d?e.jsx(g,{}):e.jsxs("section",{children:[e.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"font-medium text-neutral",children:"All Popups"}),e.jsxs(i,{to:"/admin/front-end/popup/add",className:"primary_btn flex items-center gap-2",children:[e.jsx(b,{})," Add Popup"]})]})}),e.jsx("div",{className:"rounded bg-base-100 shadow",children:l.length===0?e.jsxs("div",{className:"p-8 text-center text-neutral-content",children:[e.jsx("p",{children:"No popups found"}),e.jsx(i,{to:"/admin/front-end/popup/add",className:"primary_btn mt-4 inline-block",children:"Create First Popup"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{src:`https://api.torayvinobd.store${t.image}`,alt:t.title||"Popup",className:"h-16 w-20 rounded object-cover"})}),e.jsx("td",{children:e.jsx("p",{className:"font-medium",children:t.title||"No title"})}),e.jsx("td",{children:e.jsx("p",{className:"max-w-xs truncate text-sm text-neutral-content",children:t.description||"No description"})}),e.jsx("td",{children:e.jsxs("label",{className:"flex cursor-pointer items-center",children:[e.jsxs("label",{className:"relative inline-flex cursor-pointer items-center",children:[e.jsx("input",{type:"checkbox",checked:t.isActive,value:t.isActive,onChange:()=>u(t._id),disabled:h,className:"sr-only peer"}),e.jsx("div",{className:"peer h-[23px] w-11 rounded-full bg-gray-200 after:absolute after:start-[1px] after:top-[1.5px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full"})]}),e.jsx("span",{className:`ml-2 text-xs font-medium ${t.isActive?"text-green-600":"text-gray-500"}`,children:t.isActive?"Active":"Inactive"})]})}),e.jsx("td",{children:e.jsx("p",{className:"text-sm text-neutral-content",children:new Date(t.createdAt).toLocaleDateString()})}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{to:`/admin/front-end/popup/edit/${t._id}`,className:"duration-300 hover:text-green-700",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m(t._id),disabled:o,className:"text-red-500",children:e.jsx(w,{className:"h-4 w-4"})})]})})]},t._id))})]})})})]})}export{y as default};
