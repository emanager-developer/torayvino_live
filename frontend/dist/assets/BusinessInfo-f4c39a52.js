import{cN as E,cO as G,cP as O,j as a,Q as n}from"./index-e0eec1b4.js";function R(){const{data:r}=E(),s=r==null?void 0:r.data,d=s==null?void 0:s._id,[C,{isLoading:o}]=G(),[U,{isLoading:c}]=O(),_=async i=>{var m,u,p,x,g,j,h,f,y,N,v,B,b,w,S,L,Y,I,V,A;i.preventDefault();const t=i.target,M=t.name.value,Q=Number(t.startYear.value),$=t.type.value,D=t.bio.value,l={name:M,startYear:Q,type:$,bio:D};if(d){const e=await U({id:d,data:l});(m=e==null?void 0:e.data)!=null&&m.success?n.success("Business Info Update Successfully"):(n.error(`${((g=(x=(p=(u=e==null?void 0:e.error)==null?void 0:u.data)==null?void 0:p.error)==null?void 0:x[0])==null?void 0:g.message)||((f=(h=(j=e==null?void 0:e.error)==null?void 0:j.data)==null?void 0:h.error)==null?void 0:f.message)||((N=(y=e==null?void 0:e.error)==null?void 0:y.data)==null?void 0:N.message)||"Something went wrong!"}`),console.log(e))}else{const e=await C(l);(v=e==null?void 0:e.data)!=null&&v.success?n.success("Business Info Added Successfully"):(n.error(`${((S=(w=(b=(B=e==null?void 0:e.error)==null?void 0:B.data)==null?void 0:b.error)==null?void 0:w[0])==null?void 0:S.message)||((I=(Y=(L=e==null?void 0:e.error)==null?void 0:L.data)==null?void 0:Y.error)==null?void 0:I.message)||((A=(V=e==null?void 0:e.error)==null?void 0:V.data)==null?void 0:A.message)||"Something went wrong!"}`),console.log(e))}};return a.jsxs("section",{className:"rounded bg-base-100 shadow",children:[a.jsx("div",{className:"border-b p-4",children:a.jsx("h3",{className:"font-medium text-neutral",children:"Business Info"})}),a.jsxs("form",{onSubmit:_,className:"form_group p-4 text-neutral-content",children:[a.jsxs("div",{className:"grid items-start gap-4 rounded border p-4 sm:grid-cols-2 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"mb-1",children:"Company Name"}),a.jsx("input",{type:"text",name:"name",defaultValue:s==null?void 0:s.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1",children:"Company Start Year"}),a.jsx("input",{type:"text",name:"startYear",defaultValue:s==null?void 0:s.startYear})]}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1",children:"Company Type"}),a.jsx("input",{type:"text",name:"type",defaultValue:s==null?void 0:s.type})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx("p",{className:"mb-1",children:"Bio"}),a.jsx("textarea",{name:"bio",rows:"2",defaultValue:s==null?void 0:s.bio})]})]}),a.jsx("div",{className:"mt-5",children:a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{disabled:o||c,className:"primary_btn",children:o||c?"Loading...":d?"Update":"Add Info"})})})]})]})}export{R as default};
