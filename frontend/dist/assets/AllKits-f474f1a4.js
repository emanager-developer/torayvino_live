import{m as k,W as D,ch as E,j as e,S as L,L as $,ci as _,H as G,c9 as O,Q as d}from"./index-e0eec1b4.js";function H(){const[a,l]=k.useState(1),[i]=k.useState(10),{data:r,isLoading:M,refetch:P}=D({page:a,limit:i}),[F]=E(),x=(r==null?void 0:r.data)||[],n=(r==null?void 0:r.meta)||{},C=async s=>{var c,o,p,h,u,g,y,j,N,f,w,b,v,K,A,S;if(window.confirm("Are you sure you want to delete this kit?"))try{const t=await F(s);(c=t==null?void 0:t.data)!=null&&c.success?(d.success("Kit deleted successfully"),P()):(d.error(`${((u=(h=(p=(o=t==null?void 0:t.error)==null?void 0:o.data)==null?void 0:p.error)==null?void 0:h[0])==null?void 0:u.message)||((j=(y=(g=t==null?void 0:t.error)==null?void 0:g.data)==null?void 0:y.error)==null?void 0:j.message)||((f=(N=t==null?void 0:t.error)==null?void 0:N.data)==null?void 0:f.message)||"Something went wrong!"}`),-console.log(t))}catch(t){d.error(`${((v=(b=(w=t==null?void 0:t.data)==null?void 0:w.error)==null?void 0:b[0])==null?void 0:v.message)||((A=(K=t==null?void 0:t.data)==null?void 0:K.error)==null?void 0:A.message)||((S=t==null?void 0:t.data)==null?void 0:S.message)||t||"Something went wrong!"}`),console.log(t)}},m=Math.ceil(n.total/i);return M?e.jsx(L,{}):e.jsxs("div",{className:"rounded bg-base-100 shadow",children:[e.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral",children:"All Kits (GKK)"}),e.jsxs($,{to:"/admin/kit/add-kit",className:"flex items-center gap-2 rounded bg-primary px-4 py-2 text-sm text-base-100 hover:bg-primary/90",children:[e.jsx(_,{className:"h-4 w-4"}),"Add New Kit"]})]}),e.jsx("div",{className:"p-4",children:x.length===0?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No kits found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Kit"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Discount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Products"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.map(s=>{var c;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:`https://api.torayvinobd.store/${s.image}`,alt:s.name})})}),e.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.slug})]}),e.jsxs("td",{className:"whitespace-nowrap px-6 py-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["৳",s.price]}),s.discount>0&&e.jsxs("div",{className:"text-xs text-green-600",children:["After discount: ৳",(s.price*(1-s.discount/100)).toFixed(0)]})]}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:s.discount>0?e.jsxs("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:[s.discount,"% OFF"]}):e.jsx("span",{className:"text-xs text-gray-400",children:"No discount"})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${s.stock>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.stock>0?`${s.stock} in stock`:"Out of stock"})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800",children:[((c=s.products)==null?void 0:c.length)||0," products"]})}),e.jsx("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{to:`/admin/kit/edit/${s._id}`,className:"text-blue-600 hover:text-blue-900",children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>C(s._id),className:"text-red-600 hover:text-red-900",children:e.jsx(O,{className:"h-5 w-5"})})]})})]},s._id)})})]})}),m>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a-1)*i+1," to"," ",Math.min(a*i,n.total)," of ",n.total," ","results"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(a-1),disabled:a===1,className:"rounded bg-gray-200 px-3 py-1 text-sm disabled:opacity-50",children:"Previous"}),e.jsx("span",{className:"rounded bg-primary px-3 py-1 text-sm text-white",children:a}),e.jsx("button",{onClick:()=>l(a+1),disabled:a===m,className:"rounded bg-gray-200 px-3 py-1 text-sm disabled:opacity-50",children:"Next"})]})]})]})})]})}export{H as default};
