import{cN as I,cO as L,cP as Y,j as s,Q as n}from"./index-f981d823.js";function A(){const{data:d}=I(),e=d==null?void 0:d.data,o=e==null?void 0:e._id,[h,{isLoading:c}]=L(),[g,{isLoading:i}]=Y(),y=async l=>{var u,m,p,x,f,j;l.preventDefault();const t=l.target,N=t.name.value,v=Number(t.startYear.value),B=t.type.value,b=t.bio.value,r={name:N,startYear:v,type:B,bio:b};if(o){const a=await g({id:o,data:r});(u=a==null?void 0:a.data)!=null&&u.success?n.success("Business Info Update Successfully"):(n.error(((p=(m=a==null?void 0:a.error)==null?void 0:m.data)==null?void 0:p.message)||"Failed to Update Business Info"),console.log(a))}else{const a=await h(r);(x=a==null?void 0:a.data)!=null&&x.success?n.success("Business Info Added Successfully"):(n.error(((j=(f=a==null?void 0:a.error)==null?void 0:f.data)==null?void 0:j.message)||"Failed to Add Business Info"),console.log(a))}};return s.jsxs("section",{className:"rounded bg-base-100 shadow",children:[s.jsx("div",{className:"border-b p-4",children:s.jsx("h3",{className:"font-medium text-neutral",children:"Business Info"})}),s.jsxs("form",{onSubmit:y,className:"form_group p-4 text-neutral-content",children:[s.jsxs("div",{className:"grid items-start gap-4 rounded border p-4 sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Company Name"}),s.jsx("input",{type:"text",name:"name",defaultValue:e==null?void 0:e.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Company Start Year"}),s.jsx("input",{type:"text",name:"startYear",defaultValue:e==null?void 0:e.startYear})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Company Type"}),s.jsx("input",{type:"text",name:"type",defaultValue:e==null?void 0:e.type})]}),s.jsxs("div",{className:"sm:col-span-3",children:[s.jsx("p",{className:"mb-1",children:"Bio"}),s.jsx("textarea",{name:"bio",rows:"2",defaultValue:e==null?void 0:e.bio})]})]}),s.jsx("div",{className:"mt-5",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{disabled:c||i,className:"primary_btn",children:c||i?"Loading...":o?"Update":"Add Info"})})})]})]})}export{A as default};
