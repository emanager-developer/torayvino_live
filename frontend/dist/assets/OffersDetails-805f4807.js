import{u as k,a as w,b as P,c as $,j as e,S as B,L as f,d as O,N as E,A as S,P as L,e as A,f as _}from"./index-3d958e2c.js";function F(){var h,g;const{slug:o}=k(),{data:n,isLoading:p,isError:m}=w(o,{skip:!o}),{data:c,isLoading:u,isError:b}=P(o,{skip:!m&&!!(n!=null&&n.data)}),{data:d}=$({limit:100}),s=(n==null?void 0:n.data)||(c==null?void 0:c.data),j=(d==null?void 0:d.data)||[],y=p||u,N=m&&b;if(y)return e.jsx(B,{});if(N||!s)return e.jsx("section",{className:"px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Offer not found"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"The requested offer does not exist or has been removed."}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Please make sure the offer URL is correct and the offer is still active."}),e.jsx(f,{to:"/offers",className:"text-white bg-primary px-4 py-2 rounded hover:bg-primary-dark transition-colors",children:"Back to offers"})]})});const x=j.filter(i=>{var t;return(t=s.products)==null?void 0:t.some(r=>typeof r=="string"?r===i._id:r._id===i._id)}),a=((h=s.banners)==null?void 0:h.desktop)||[],l=((g=s.banners)==null?void 0:g.mobile)||[],v=a.length>0||l.length>0;return e.jsxs("section",{children:[v?e.jsx("div",{className:"",children:e.jsx(O,{modules:[E,S,L],navigation:Math.max(a.length,l.length)>1,pagination:Math.max(a.length,l.length)>1?{clickable:!0}:!1,autoplay:{delay:5e3,disableOnInteraction:!1},loop:Math.max(a.length,l.length)>1,speed:1e3,className:"hero-swiper mySwiper h-full w-full",children:Array.from({length:Math.max(a.length,l.length)}).map((i,t)=>e.jsxs(A,{children:[a[t]&&e.jsx("img",{src:`https://api.torayvinobd.store${a[t]}`,alt:`${s.name} desktop banner ${t+1}`,className:"h-full w-full hidden sm:block ",loading:"lazy",onError:r=>{r.target.onerror=null,r.target.src="/images/default-banner.jpg"}}),e.jsx("img",{src:`https://api.torayvinobd.store${l[t]||a[t]||a[0]}`,alt:`${s.name} mobile banner ${t+1}`,className:"h-full w-full block sm:hidden ",loading:"lazy",onError:r=>{l[t]&&r.target.src.includes(l[t])?r.target.src=`https://api.torayvinobd.store${a[t]||a[0]}`:(r.target.onerror=null,r.target.src="/images/default-banner.jpg")}})]},`slide-${t}`))})}):e.jsx("div",{className:"h-64 md:h-96 bg-gradient-to-r from-primary to-secondary flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center px-4",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:s.name}),e.jsx("p",{className:"text-lg md:text-xl mb-4",children:s.description}),s.discountPercentage&&e.jsxs("div",{className:"bg-red-500 text-white px-6 py-3 rounded-full inline-block font-bold text-xl",children:[s.discountPercentage,"% OFF"]})]})}),e.jsx("div",{className:"px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:s.name}),e.jsx("p",{className:"text-gray-600 text-lg max-w-3xl mx-auto mb-6",children:s.description})]}),x.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-8 text-center",children:"Featured Products in this Offer"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",children:x.map(i=>e.jsx(_,{product:i,discount:s.discountPercentage||0},i._id))})]}),e.jsx("div",{className:"text-center",children:e.jsx(f,{to:"/offers",className:"inline-block text-white bg-primary px-6 py-3 rounded-lg hover:bg-primary-dark transition-colors",children:"‚Üê Back to All Offers"})})]})})]})}export{F as default};
