import{u as v,y as C,p as l,b1 as N,j as a,S as w,Q as p}from"./index-f981d823.js";import{c as E,d as L}from"./subCategoryApi-75905068.js";function G(){var c;const{id:o}=v(),y=C(),[x,d]=l.useState(""),{data:t,isLoading:b}=E(o),{data:r}=N(),n=r==null?void 0:r.data;l.useEffect(()=>{var e;t&&d((e=t==null?void 0:t.data)==null?void 0:e.category)},[t]);const[f,{isLoading:i}]=L();if(b)return a.jsx(w,{});const j=async e=>{var u,m,g;e.preventDefault();const h=e.target.name.value,S=e.target.category.value,s=await f({id:o,data:{name:h,category:S}});(u=s==null?void 0:s.data)!=null&&u.success?(p.success("Update Success"),y("/admin/category/sub-categories")):p.error(((g=(m=s==null?void 0:s.error)==null?void 0:m.data)==null?void 0:g.message)||"Something went wrong")};return a.jsxs("form",{onSubmit:j,className:"rounded bg-base-100 p-4 sm:w-1/2",children:[a.jsxs("div",{className:"form_group mt-2",children:[a.jsx("p",{children:"Sub Category Name"}),a.jsx("input",{type:"text",name:"name",defaultValue:(c=t==null?void 0:t.data)==null?void 0:c.name,required:!0})]}),a.jsxs("div",{className:"form_group mt-4",children:[a.jsx("p",{children:"Category"}),a.jsx("select",{name:"category",value:x,onChange:e=>d(e.target.value),children:n==null?void 0:n.map(e=>a.jsx("option",{value:e._id,children:e.name},e._id))})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{className:"rounded bg-primary px-6 py-1.5 text-base-100",disabled:i&&"disabled",children:i?"Loading..":"Update"})})]})}export{G as default};
