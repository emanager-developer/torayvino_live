import{v as S,b0 as w,j as a,Q as n}from"./index-e0eec1b4.js";import{a as _}from"./subCategoryApi-bd4044ab.js";function L(){var d;const h=S(),{data:t,isSuccess:C}=w(),[f,{isLoading:r}]=_(),v=async e=>{var o,m,u,c,l,x,g,b,p,j;e.preventDefault();const N=e.target.name.value,i=e.target.category.value;if(!i)return n.warning("Category is required");const s=await f({name:N,category:i});(o=s==null?void 0:s.data)!=null&&o.success?(n.success("add success"),h("/admin/category/sub-categories")):n.error(`${((l=(c=(u=(m=s==null?void 0:s.error)==null?void 0:m.data)==null?void 0:u.error)==null?void 0:c[0])==null?void 0:l.message)||((b=(g=(x=s==null?void 0:s.error)==null?void 0:x.data)==null?void 0:g.error)==null?void 0:b.message)||((j=(p=s==null?void 0:s.error)==null?void 0:p.data)==null?void 0:j.message)||"Something went wrong!"}`)};return a.jsxs("form",{onSubmit:v,className:"rounded bg-base-100 p-4 xl:w-1/2",children:[a.jsxs("div",{className:"form_group mt-2",children:[a.jsx("p",{className:"text-neutral-content",children:"Sub Category name"}),a.jsx("input",{type:"text",name:"name",required:!0})]}),a.jsxs("div",{className:"form_group mt-2",children:[a.jsx("p",{className:"text-neutral-content",children:"Category"}),a.jsx("select",{name:"category",children:C&&((d=t==null?void 0:t.data)==null?void 0:d.map(e=>a.jsx("option",{value:e==null?void 0:e._id,children:e==null?void 0:e.name},e==null?void 0:e._id)))})]}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{className:"primary_btn text-sm",disabled:r&&"disabled",children:r?"Loading..":"Add Sub Category"})})]})}export{L as default};
