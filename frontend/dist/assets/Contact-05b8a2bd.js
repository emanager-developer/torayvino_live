import{j as e,c_ as T,c$ as A,p as C,d0 as I,d1 as M,d2 as P,S as R,Q as x}from"./index-f981d823.js";const V=[{label:"Facebook",value:"FaFacebook"},{label:"Twitter",value:"FaTwitter"},{label:"LinkedIn",value:"FaLinkedin"},{label:"Instagram",value:"FaInstagram"},{label:"YouTube",value:"FaYoutube"},{label:"Pinterest",value:"FaPinterest"},{label:"GitHub",value:"FaGithub"},{label:"Behance",value:"FaBehance"},{label:"Twitch",value:"FaTwitch"},{label:"Snapchat",value:"FaSnapchat"},{label:"Reddit",value:"FaReddit"},{label:"WhatsApp",value:"FaWhatsapp"},{label:"WhatsApp Square",value:"FaWhatsappSquare"},{label:"Telegram",value:"FaTelegram"},{label:"Medium",value:"FaMedium"},{label:"Discord",value:"FaDiscord"},{label:"Tiktok",value:"FaTiktok"},{label:"Skype",value:"FaSkype"}];function W({socials:t,setSocials:i}){const o=(l,d)=>{const n=t.map((r,u)=>u===l?{...r,url:d.target.value}:r);i(n)},h=(l,d)=>{const n=t.map((r,u)=>u===l?{...r,icon:d.target.value}:r);i(n)},a=()=>{m()?i([...t,{icon:"",url:""}]):alert("Please select an icon and provide a URL.")},c=l=>{const d=[...t];d.splice(l,1),i(d)},m=()=>t.every(l=>l.icon!==""&&l.url!=="");return e.jsxs("div",{className:"mt-3 flex flex-col gap-3 rounded border p-3",children:[t==null?void 0:t.map((l,d)=>e.jsxs("div",{className:"flex gap-2 text-sm",children:[e.jsxs("select",{value:l.icon,onChange:n=>h(d,n),children:[e.jsx("option",{value:"",children:"Select Platform"}),V.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]}),e.jsx("input",{type:"text",name:"url",placeholder:"Social Media URL",value:l.url,onChange:n=>o(d,n)}),e.jsx("button",{type:"button",onClick:()=>c(d),className:"flex w-20 items-center justify-center rounded-md bg-red-500 text-white",children:e.jsx(T,{})})]},d)),e.jsxs("button",{type:"button",onClick:a,disabled:(t==null?void 0:t.length)>0&&!m(),className:"flex w-max items-center gap-2 rounded bg-gray-500 px-4 py-2 text-sm text-base-100",children:[e.jsx(A,{className:"text-xs"})," Add Social Link"]})]})}function U(){const[t,i]=C.useState([]),{data:o,isLoading:h}=I(),a=o==null?void 0:o.data,c=a==null?void 0:a._id;C.useEffect(()=>{a!=null&&a.socials&&i(a==null?void 0:a.socials)},[a]);const[m,{isLoading:l}]=M(),[d,{isLoading:n}]=P(),r=async u=>{var b,g,j,f,F,w;u.preventDefault();const p=u.target,y=p.title.value,N=p.phone.value,S=p.whatsapp.value,k=p.email.value,L=p.address.value,v={title:y,phone:N,whatsapp:S,email:k,address:L,socials:t};if(c){const s=await m({id:c,contactInfo:v});(b=s==null?void 0:s.data)!=null&&b.success?x.success("Contact updated successfully"):(x.error(((j=(g=s==null?void 0:s.error)==null?void 0:g.data)==null?void 0:j.message)||"Something went wrong"),console.log(s))}else{const s=await d(v);(f=s==null?void 0:s.data)!=null&&f.success?x.success("Contact add successfully"):(x.error(((w=(F=s==null?void 0:s.error)==null?void 0:F.data)==null?void 0:w.message)||"Something went wrong"),console.log(s))}};return h?e.jsx(R,{}):e.jsxs("section",{className:"rounded bg-base-100 pb-4 shadow",children:[e.jsx("div",{className:"border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:"Contact Info"})}),e.jsxs("form",{onSubmit:r,className:"form_group mx-4 mt-3 flex flex-col gap-3 rounded border p-4 text-sm",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Title"}),e.jsx("input",{type:"text",name:"title",defaultValue:a==null?void 0:a.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Email"}),e.jsx("input",{type:"email",name:"email",defaultValue:a==null?void 0:a.email})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Phone"}),e.jsx("input",{type:"text",name:"phone",defaultValue:a==null?void 0:a.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Whatsapp"}),e.jsx("input",{type:"text",name:"whatsapp",defaultValue:a==null?void 0:a.whatsapp})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-content",children:"Address"}),e.jsx("textarea",{name:"address",rows:"3",defaultValue:a==null?void 0:a.address})]}),e.jsx(W,{socials:t,setSocials:i}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{disabled:l||n,className:"primary_btn",children:l||n?"Loading...":c?"Update Contact":"Add Contact"})})]})]})}export{U as default};
