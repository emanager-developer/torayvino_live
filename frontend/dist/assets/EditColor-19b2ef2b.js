import{u as C,y as h,p as m,j as e,Q as p}from"./index-f981d823.js";import{c as y,d as v}from"./colorApi-fead5e16.js";function w(){const{id:n}=C(),g=h(),[r,d]=m.useState(""),{data:o}=y(n),a=o==null?void 0:o.data;m.useEffect(()=>{d(a==null?void 0:a.code)},[a]);const[x,{isLoading:u}]=v(),f=async t=>{var c,i,l;t.preventDefault();const j={name:t.target.name.value,code:r},s=await x({id:n,data:j});(c=s==null?void 0:s.data)!=null&&c.success?(p.success("Color updated successfully"),g("/admin/colors")):(p.error(((l=(i=s==null?void 0:s.error)==null?void 0:i.data)==null?void 0:l.message)||"Something went wrong"),console.log(s))};return e.jsxs("form",{onSubmit:f,className:"rounded bg-base-100 p-4 sm:w-1/2",children:[e.jsxs("div",{className:"form_group mt-2",children:[e.jsx("p",{children:"Color Name"}),e.jsx("input",{type:"text",name:"name",defaultValue:a==null?void 0:a.name,required:!0})]}),e.jsxs("div",{className:"form_group mt-4",children:[e.jsx("p",{children:"Color Code"}),e.jsx("input",{type:"color",name:"code",required:!0,value:r,onChange:t=>d(t.target.value)})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{className:"rounded bg-primary px-6 py-1.5 text-base-100",disabled:u,children:u?"Loading..":"Update"})})]})}export{w as default};
