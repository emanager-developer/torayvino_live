import{m as G,aM as I,d3 as K,d4 as z,j as a,S as B,am as H,an as J,Q as n}from"./index-3d958e2c.js";function P(){const[s,c]=G.useState([]),{data:m,isLoading:F}=I(),r=m==null?void 0:m.data,g=r==null?void 0:r._id,[Q,{isLoading:u}]=K(),[R,{isLoading:x}]=z(),q=async()=>{var i,l,d,p,h,j,b,f,L,N,v,w,y,S,M,C,_,$,D,k,A,U,E;const t=(i=s[0])==null?void 0:i.file;if(!t)return n.error("Logo is required");let o=new FormData;if(o.append("image",t),g){const e=await R({id:g,formData:o});e.error?n.error(`${((h=(p=(d=(l=e==null?void 0:e.error)==null?void 0:l.data)==null?void 0:d.error)==null?void 0:p[0])==null?void 0:h.message)||((f=(b=(j=e==null?void 0:e.error)==null?void 0:j.data)==null?void 0:b.error)==null?void 0:f.message)||((N=(L=e==null?void 0:e.error)==null?void 0:L.data)==null?void 0:N.message)||"Something went wrong!"}`):(n.success(((w=(v=e==null?void 0:e.error)==null?void 0:v.data)==null?void 0:w.message)||"Logo successfully added"),c([]),console.log(e))}else{const e=await Q(o);e.error?n.error(`${((C=(M=(S=(y=e==null?void 0:e.error)==null?void 0:y.data)==null?void 0:S.error)==null?void 0:M[0])==null?void 0:C.message)||((D=($=(_=e==null?void 0:e.error)==null?void 0:_.data)==null?void 0:$.error)==null?void 0:D.message)||((A=(k=e==null?void 0:e.error)==null?void 0:k.data)==null?void 0:A.message)||"Something went wrong!"}`):(n.success(((E=(U=e==null?void 0:e.error)==null?void 0:U.data)==null?void 0:E.message)||"Logo successfully added"),c([]),console.log(e))}};return F?a.jsx(B,{}):a.jsxs("section",{children:[a.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:a.jsx("h1",{className:"font-medium text-neutral",children:"Logo Setting"})}),a.jsxs("div",{className:"rounded bg-base-100 shadow",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"border-b p-3 text-neutral-content",children:["Logo ",a.jsx("small",{children:"(max 120px/56px)"})]}),a.jsxs("div",{className:"items-center gap-4 p-4 sm:flex",children:[a.jsx(H,{value:s,onChange:t=>c(t),dataURLKey:"data_url",children:({onImageUpload:t,onImageRemove:o,dragProps:i})=>a.jsxs("div",{className:"w-max rounded border border-dashed p-4",...i,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{onClick:t,className:"cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),a.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),a.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((l,d)=>a.jsxs("div",{className:"image-item relative",children:[a.jsx("img",{src:l.data_url,alt:"",className:"w-40"}),a.jsx("div",{onClick:()=>o(d),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:a.jsx(J,{})})]},d))})]})}),(r==null?void 0:r.logo)&&(s==null?void 0:s.length)>=0&&a.jsx("img",{src:`https://api.torayvinobd.store/${r==null?void 0:r.logo}`,alt:"logo",className:"mt-4 w-32 sm:mt-0"})]})]}),a.jsx("div",{className:"mt-6 flex justify-end border-t p-4",children:a.jsx("button",{disabled:x||u,onClick:q,className:"primary_btn",children:x||u?"Loading":g?"Update Logo":"Add Logo"})})]})]})}export{P as default};
